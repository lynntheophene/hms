var ii=Object.defineProperty;var ai=(r,e,t)=>e in r?ii(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Rn=(r,e,t)=>ai(r,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();function Z(){}function j(r,e){for(const t in e)r[t]=e[t];return r}function ws(r){return r()}function pr(){return Object.create(null)}function at(r){r.forEach(ws)}function ys(r){return typeof r=="function"}function V(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}function oi(r){return Object.keys(r).length===0}function li(r,...e){if(r==null){for(const n of e)n(void 0);return Z}const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Rt(r,e,t){r.$$.on_destroy.push(li(e,t))}function ae(r,e,t,n){if(r){const s=ks(r,e,t,n);return r[0](s)}}function ks(r,e,t,n){return r[1]&&n?j(t.ctx.slice(),r[1](n(e))):t.ctx}function oe(r,e,t,n){return r[2],e.dirty}function le(r,e,t,n,s,i){if(s){const a=ks(e,t,n,i);r.p(a,s)}}function ce(r){if(r.ctx.length>32){const e=[],t=r.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function B(r){const e={};for(const t in r)t[0]!=="$"&&(e[t]=r[t]);return e}function vr(r,e){const t={};e=new Set(e);for(const n in r)!e.has(n)&&n[0]!=="$"&&(t[n]=r[n]);return t}function h(r,e){r.appendChild(e)}function S(r,e,t){r.insertBefore(e,t||null)}function $(r){r.parentNode&&r.parentNode.removeChild(r)}function Yt(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function v(r){return document.createElement(r)}function $s(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function T(r){return document.createTextNode(r)}function P(){return T(" ")}function Qt(){return T("")}function Se(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function ci(r){return function(e){return e.preventDefault(),r.call(this,e)}}function p(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function vn(r,e){for(const t in e)p(r,t,e[t])}function ui(r){return Array.from(r.childNodes)}function ge(r,e){e=""+e,r.data!==e&&(r.data=e)}function Ze(r,e){r.value=e??""}function br(r,e,t){for(let n=0;n<r.options.length;n+=1){const s=r.options[n];if(s.__value===e){s.selected=!0;return}}(!t||e!==void 0)&&(r.selectedIndex=-1)}function di(r){const e=r.querySelector(":checked");return e&&e.__value}function st(r,e,t){r.classList.toggle(e,!!t)}let Kt;function zt(r){Kt=r}function hi(){if(!Kt)throw new Error("Function called outside component initialization");return Kt}function Ss(r){hi().$$.on_mount.push(r)}const jt=[],wr=[];let It=[];const yr=[],fi=Promise.resolve();let xn=!1;function gi(){xn||(xn=!0,fi.then(Ps))}function bn(r){It.push(r)}const In=new Set;let yt=0;function Ps(){if(yt!==0)return;const r=Kt;do{try{for(;yt<jt.length;){const e=jt[yt];yt++,zt(e),mi(e.$$)}}catch(e){throw jt.length=0,yt=0,e}for(zt(null),jt.length=0,yt=0;wr.length;)wr.pop()();for(let e=0;e<It.length;e+=1){const t=It[e];In.has(t)||(In.add(t),t())}It.length=0}while(jt.length);for(;yr.length;)yr.pop()();xn=!1,In.clear(),zt(r)}function mi(r){if(r.fragment!==null){r.update(),at(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(bn)}}function _i(r){const e=[],t=[];It.forEach(n=>r.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),It=e}const _n=new Set;let gt;function Le(){gt={r:0,c:[],p:gt}}function Ue(){gt.r||at(gt.c),gt=gt.p}function w(r,e){r&&r.i&&(_n.delete(r),r.i(e))}function k(r,e,t,n){if(r&&r.o){if(_n.has(r))return;_n.add(r),gt.c.push(()=>{_n.delete(r),n&&(t&&r.d(1),n())}),r.o(e)}else n&&n()}function Ke(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function ne(r,e){const t={},n={},s={$$scope:1};let i=r.length;for(;i--;){const a=r[i],o=e[i];if(o){for(const l in a)l in o||(n[l]=1);for(const l in o)s[l]||(t[l]=o[l],s[l]=1);r[i]=o}else for(const l in a)s[l]=1}for(const a in n)a in t||(t[a]=void 0);return t}function de(r){return typeof r=="object"&&r!==null?r:{}}function M(r){r&&r.c()}function R(r,e,t){const{fragment:n,after_update:s}=r.$$;n&&n.m(e,t),bn(()=>{const i=r.$$.on_mount.map(ws).filter(ys);r.$$.on_destroy?r.$$.on_destroy.push(...i):at(i),r.$$.on_mount=[]}),s.forEach(bn)}function I(r,e){const t=r.$$;t.fragment!==null&&(_i(t.after_update),at(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function pi(r,e){r.$$.dirty[0]===-1&&(jt.push(r),gi(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function Y(r,e,t,n,s,i,a=null,o=[-1]){const l=Kt;zt(r);const c=r.$$={fragment:null,ctx:[],props:i,update:Z,not_equal:s,bound:pr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:pr(),dirty:o,skip_bound:!1,root:e.target||l.$$.root};a&&a(c.root);let u=!1;if(c.ctx=t?t(r,e.props||{},(d,_,...f)=>{const g=f.length?f[0]:_;return c.ctx&&s(c.ctx[d],c.ctx[d]=g)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](g),u&&pi(r,d)),_}):[],c.update(),u=!0,at(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const d=ui(e.target);c.fragment&&c.fragment.l(d),d.forEach($)}else c.fragment&&c.fragment.c();e.intro&&w(r.$$.fragment),R(r,e.target,e.anchor),Ps()}zt(l)}class Q{constructor(){Rn(this,"$$");Rn(this,"$$set")}$destroy(){I(this,1),this.$destroy=Z}$on(e,t){if(!ys(t))return Z;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!oi(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const vi="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(vi);const kt=[];function er(r,e=Z){let t;const n=new Set;function s(o){if(V(r,o)&&(r=o,t)){const l=!kt.length;for(const c of n)c[1](),kt.push(c,r);if(l){for(let c=0;c<kt.length;c+=2)kt[c][0](kt[c+1]);kt.length=0}}}function i(o){s(o(r))}function a(o,l=Z){const c=[o,l];return n.add(c),n.size===1&&(t=e(s,i)||Z),o(r),()=>{n.delete(c),n.size===0&&t&&(t(),t=null)}}return{set:s,update:i,subscribe:a}}const bi="modulepreload",wi=function(r){return"/"+r},kr={},Xt=function(e,t,n){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(t.map(l=>{if(l=wi(l),l in kr)return;kr[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":bi,c||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),c)return new Promise((_,f)=>{d.addEventListener("load",_),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},yi=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Xt(async()=>{const{default:n}=await Promise.resolve().then(()=>Dt);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class tr extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class ki extends tr{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class $r extends tr{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Sr extends tr{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var zn;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(zn||(zn={}));var $i=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};class Si{constructor(e,{headers:t={},customFetch:n,region:s=zn.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=yi(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return $i(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=t;let o={},{region:l}=t;l||(l=this.region);const c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(o["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let u;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(o["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(o["Content-Type"]="application/json",u=JSON.stringify(a)));const d=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:u}).catch(m=>{throw new ki(m)}),_=d.headers.get("x-relay-error");if(_&&_==="true")throw new $r(d);if(!d.ok)throw new Sr(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return f==="application/json"?g=yield d.json():f==="application/octet-stream"?g=yield d.blob():f==="text/event-stream"?g=d:f==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null,response:d}}catch(s){return{data:null,error:s,response:s instanceof Sr||s instanceof $r?s.context:void 0}}})}}var Ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pi(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var s=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:function(){return r[n]}})}),t}var Ae={},nr={},$n={},Zt={},Sn={},Pn={},Ti=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Mt=Ti();const Oi=Mt.fetch,Ts=Mt.fetch.bind(Mt),Os=Mt.Headers,Ei=Mt.Request,ji=Mt.Response,Dt=Object.freeze(Object.defineProperty({__proto__:null,Headers:Os,Request:Ei,Response:ji,default:Ts,fetch:Oi},Symbol.toStringTag,{value:"Module"})),Ai=Pi(Dt);var Tn={};Object.defineProperty(Tn,"__esModule",{value:!0});let Ci=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Tn.default=Ci;var Es=Ie&&Ie.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Pn,"__esModule",{value:!0});const Ri=Es(Ai),Ii=Es(Tn);let Mi=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Ri.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,l;let c=null,u=null,d=null,_=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){const E=await i.text();E===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=E:u=JSON.parse(E))}const m=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),b=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");m&&b&&b.length>1&&(d=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,_=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await i.text();try{c=JSON.parse(m),Array.isArray(c)&&i.status===404&&(u=[],c=null,_=200,f="OK")}catch{i.status===404&&m===""?(_=204,f="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,_=200,f="OK"),c&&this.shouldThrowOnError)throw new Ii.default(c)}return{error:c,data:u,count:d,status:_,statusText:f}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,l;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}};Pn.default=Mi;var Di=Ie&&Ie.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Sn,"__esModule",{value:!0});const Ni=Di(Pn);let Li=class extends Ni.default{select(e){let t=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Sn.default=Li;var Ui=Ie&&Ie.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Zt,"__esModule",{value:!0});const Bi=Ui(Sn);let qi=class extends Bi.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}};Zt.default=qi;var Fi=Ie&&Ie.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty($n,"__esModule",{value:!0});const qt=Fi(Zt);let Wi=class{constructor(e,{headers:t={},schema:n,fetch:s}){this.url=e,this.headers=t,this.schema=n,this.fetch=s}select(e,{head:t=!1,count:n}={}){const s=t?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new qt.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const a=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new qt.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new qt.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),this.headers.Prefer=s.join(","),new qt.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new qt.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};$n.default=Wi;var On={},En={};Object.defineProperty(En,"__esModule",{value:!0});En.version=void 0;En.version="0.0.0-automated";Object.defineProperty(On,"__esModule",{value:!0});On.DEFAULT_HEADERS=void 0;const xi=En;On.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${xi.version}`};var js=Ie&&Ie.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(nr,"__esModule",{value:!0});const zi=js($n),Hi=js(Zt),Gi=On;let Ki=class As{constructor(e,{headers:t={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Gi.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=s}from(e){const t=new URL(`${this.url}/${e}`);return new zi.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new As(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:n=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${e}`);let l;n||s?(a=n?"HEAD":"GET",Object.entries(t).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{o.searchParams.append(u,d)})):(a="POST",l=t);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Hi.default({method:a,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};nr.default=Ki;var Nt=Ie&&Ie.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.PostgrestError=Ae.PostgrestBuilder=Ae.PostgrestTransformBuilder=Ae.PostgrestFilterBuilder=Ae.PostgrestQueryBuilder=Ae.PostgrestClient=void 0;const Cs=Nt(nr);Ae.PostgrestClient=Cs.default;const Rs=Nt($n);Ae.PostgrestQueryBuilder=Rs.default;const Is=Nt(Zt);Ae.PostgrestFilterBuilder=Is.default;const Ms=Nt(Sn);Ae.PostgrestTransformBuilder=Ms.default;const Ds=Nt(Pn);Ae.PostgrestBuilder=Ds.default;const Ns=Nt(Tn);Ae.PostgrestError=Ns.default;var Ji=Ae.default={PostgrestClient:Cs.default,PostgrestQueryBuilder:Rs.default,PostgrestFilterBuilder:Is.default,PostgrestTransformBuilder:Ms.default,PostgrestBuilder:Ds.default,PostgrestError:Ns.default};const{PostgrestClient:Vi,PostgrestQueryBuilder:yh,PostgrestFilterBuilder:kh,PostgrestTransformBuilder:$h,PostgrestBuilder:Sh,PostgrestError:Ph}=Ji;function Yi(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Qi=Yi(),Xi="2.11.15",Zi=`realtime-js/${Xi}`,ea="1.0.0",Ls=1e4,ta=1e3;var Ht;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Ht||(Ht={}));var $e;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})($e||($e={}));var De;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(De||(De={}));var Hn;(function(r){r.websocket="websocket"})(Hn||(Hn={}));var ft;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(ft||(ft={}));class na{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const s=t.getUint8(1),i=t.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(e.slice(a,a+s));a=a+s;const l=n.decode(e.slice(a,a+i));a=a+i;const c=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class Us{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var te;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(te||(te={}));const Pr=(r,e,t={})=>{var n;const s=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,a)=>(i[a]=ra(a,r,e,s),i),{})},ra=(r,e,t,n)=>{const s=e.find(o=>o.name===r),i=s==null?void 0:s.type,a=t[r];return i&&!n.includes(i)?Bs(i,a):Gn(a)},Bs=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return oa(e,t)}switch(r){case te.bool:return sa(e);case te.float4:case te.float8:case te.int2:case te.int4:case te.int8:case te.numeric:case te.oid:return ia(e);case te.json:case te.jsonb:return aa(e);case te.timestamp:return la(e);case te.abstime:case te.date:case te.daterange:case te.int4range:case te.int8range:case te.money:case te.reltime:case te.text:case te.time:case te.timestamptz:case te.timetz:case te.tsrange:case te.tstzrange:return Gn(e);default:return Gn(e)}},Gn=r=>r,sa=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},ia=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},aa=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},oa=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let i;const a=r.slice(1,t);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Bs(e,o))}return r},la=r=>typeof r=="string"?r.replace(" ","T"):r,qs=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Mn{constructor(e,t,n={},s=Ls){this.channel=e,this.event=t,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Tr;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Tr||(Tr={}));class Gt{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gt.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=Gt.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Gt.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,s){const i=this.cloneDeep(e),a=this.transformState(t),o={},l={};return this.map(i,(c,u)=>{a[c]||(l[c]=u)}),this.map(a,(c,u)=>{const d=i[c];if(d){const _=u.map(b=>b.presence_ref),f=d.map(b=>b.presence_ref),g=u.filter(b=>f.indexOf(b.presence_ref)<0),m=d.filter(b=>_.indexOf(b.presence_ref)<0);g.length>0&&(o[c]=g),m.length>0&&(l[c]=m)}else o[c]=u}),this.syncDiff(i,{joins:o,leaves:l},n,s)}static syncDiff(e,t,n,s){const{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var c;const u=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),u.length>0){const d=e[o].map(f=>f.presence_ref),_=u.filter(f=>d.indexOf(f.presence_ref)<0);e[o].unshift(..._)}n(o,u,l)}),this.map(a,(o,l)=>{let c=e[o];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[o]=c,s(o,c,l),c.length===0&&delete e[o]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const s=e[n];return"metas"in s?t[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[n]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Or;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Or||(Or={}));var Er;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Er||(Er={}));var Qe;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Qe||(Qe={}));class rr{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=$e.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Mn(this,De.join,this.params,this.timeout),this.rejoinTimer=new Us(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=$e.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=$e.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this._on(De.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Gt(this),this.broadcastEndpointURL=qs(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==$e.closed){const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(u=>e==null?void 0:e(Qe.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Qe.CLOSED));const l={},c={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(Qe.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,f=(d=_==null?void 0:_.length)!==null&&d!==void 0?d:0,g=[];for(let m=0;m<f;m++){const b=_[m],{filter:{event:E,schema:A,table:y,filter:O}}=b,D=u&&u[m];if(D&&D.event===E&&D.schema===A&&D.table===y&&D.filter===O)g.push(Object.assign(Object.assign({},b),{id:D.id}));else{this.unsubscribe(),this.state=$e.errored,e==null||e(Qe.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Qe.SUBSCRIBED);return}}).receive("error",u=>{this.state=$e.errored,e==null||e(Qe.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Qe.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=$e.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(De.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Mn(this,De.leave,{},e),n.receive("ok",()=>{t(),s("ok")}).receive("timeout",()=>{t(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(i),a}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Mn(this,e,t,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var s,i;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=De;if(n&&[o,l,c,u].indexOf(a)>=0&&n!==this._joinRef())return;let _=this._onMessage(a,t,n);if(t&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var g,m,b;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((b=(m=f.filter)===null||m===void 0?void 0:m.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(f=>f.callback(_,n)):(i=this.bindings[a])===null||i===void 0||i.filter(f=>{var g,m,b,E,A,y;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const O=f.id,D=(g=f.filter)===null||g===void 0?void 0:g.event;return O&&((m=t.ids)===null||m===void 0?void 0:m.includes(O))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((b=t.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const O=(A=(E=f==null?void 0:f.filter)===null||E===void 0?void 0:E.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return O==="*"||O===((y=t==null?void 0:t.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof _=="object"&&"ids"in _){const g=_.data,{schema:m,table:b,commit_timestamp:E,type:A,errors:y}=g;_=Object.assign(Object.assign({},{schema:m,table:b,commit_timestamp:E,eventType:A,new:{},old:{},errors:y}),this._getPayloadRecords(g))}f.callback(_,n)})}_isClosed(){return this.state===$e.closed}_isJoined(){return this.state===$e.joined}_isJoining(){return this.state===$e.joining}_isLeaving(){return this.state===$e.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const s=e.toLocaleLowerCase(),i={type:s,filter:t,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&rr.isEqual(s.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(De.close,{},e)}_onError(e){this._on(De.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=$e.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Pr(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Pr(e.columns,e.old_record)),t}}const jr=()=>{},ca=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ua{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ls,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jr,this.ref=0,this.logger=jr,this.conn=null,this.sendBuffer=[],this.serializer=new na,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>Xt(async()=>{const{default:l}=await Promise.resolve().then(()=>Dt);return{default:l}},void 0).then(({default:l})=>l(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${Hn.websocket}`,this.httpEndpoint=qs(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=(n=t==null?void 0:t.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(i,a)=>a(JSON.stringify(i)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Us(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Qi),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ea}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ht.connecting:return ft.Connecting;case Ht.open:return ft.Open;case Ht.closing:return ft.Closing;default:return ft.Closed}}isConnected(){return this.connectionState()===ft.Open}channel(e,t={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new rr(`realtime:${e}`,t,this);return this.channels.push(i),i}}push(e){const{topic:t,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${t} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(n=>{const s={access_token:t,version:Zi};t&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(De.access_token,{access_token:t})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(ta,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:n,event:s,payload:i,ref:a}=t;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(t))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(De.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${n}${s}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([ca],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}}class sr extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ve(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class da extends sr{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Kn extends sr{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var ha=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};const Fs=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Xt(async()=>{const{default:n}=await Promise.resolve().then(()=>Dt);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},fa=()=>ha(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Xt(()=>Promise.resolve().then(()=>Dt),void 0)).Response:Response}),Jn=r=>{if(Array.isArray(r))return r.map(t=>Jn(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const s=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Jn(n)}),e},ga=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)};var _t=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};const Dn=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),ma=(r,e,t)=>_t(void 0,void 0,void 0,function*(){const n=yield fa();r instanceof n&&!(t!=null&&t.noResolveJson)?r.json().then(s=>{const i=r.status||500,a=(s==null?void 0:s.statusCode)||i+"";e(new da(Dn(s),i,a))}).catch(s=>{e(new Kn(Dn(s),s))}):e(new Kn(Dn(r),r))}),_a=(r,e,t,n)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"||!n?s:(ga(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),t))};function en(r,e,t,n,s,i){return _t(this,void 0,void 0,function*(){return new Promise((a,o)=>{r(t,_a(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>ma(l,o,n))})})}function wn(r,e,t,n){return _t(this,void 0,void 0,function*(){return en(r,"GET",e,t,n)})}function Xe(r,e,t,n,s){return _t(this,void 0,void 0,function*(){return en(r,"POST",e,n,s,t)})}function Vn(r,e,t,n,s){return _t(this,void 0,void 0,function*(){return en(r,"PUT",e,n,s,t)})}function pa(r,e,t,n){return _t(this,void 0,void 0,function*(){return en(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function Ws(r,e,t,n,s){return _t(this,void 0,void 0,function*(){return en(r,"DELETE",e,n,s,t)})}var je=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};const va={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ar={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ba{constructor(e,t={},n,s){this.url=e,this.headers=t,this.bucketId=n,this.fetch=Fs(s)}uploadOrUpdate(e,t,n,s){return je(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Ar),s);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),d=yield(e=="PUT"?Vn:Xe)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(ve(i))return{data:null,error:i};throw i}})}upload(e,t,n){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,s){return je(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:Ar.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield Vn(this.fetch,o.toString(),l,{headers:u});return{data:{path:i,fullPath:d.Key},error:null}}catch(l){if(ve(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return je(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=yield Xe(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new sr("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}})}update(e,t,n){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return je(this,void 0,void 0,function*(){try{return{data:yield Xe(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}})}copy(e,t,n){return je(this,void 0,void 0,function*(){try{return{data:{path:(yield Xe(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,n){return je(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Xe(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,n){return je(this,void 0,void 0,function*(){try{const s=yield Xe(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}})}download(e,t){return je(this,void 0,void 0,function*(){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield wn(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(ve(o))return{data:null,error:o};throw o}})}info(e){return je(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield wn(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Jn(n),error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}})}exists(e){return je(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield pa(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ve(n)&&n instanceof Kn){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),s=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&s.push(i);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(e){return je(this,void 0,void 0,function*(){try{return{data:yield Ws(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(ve(t))return{data:null,error:t};throw t}})}list(e,t,n){return je(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},va),t),{prefix:e||""});return{data:yield Xe(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const wa="2.10.4",ya={"X-Client-Info":`storage-js/${wa}`};var $t=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};class ka{constructor(e,t={},n,s){const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},ya),t),this.fetch=Fs(n)}listBuckets(){return $t(this,void 0,void 0,function*(){try{return{data:yield wn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ve(e))return{data:null,error:e};throw e}})}getBucket(e){return $t(this,void 0,void 0,function*(){try{return{data:yield wn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(ve(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return $t(this,void 0,void 0,function*(){try{return{data:yield Xe(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return $t(this,void 0,void 0,function*(){try{return{data:yield Vn(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}})}emptyBucket(e){return $t(this,void 0,void 0,function*(){try{return{data:yield Xe(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(ve(t))return{data:null,error:t};throw t}})}deleteBucket(e){return $t(this,void 0,void 0,function*(){try{return{data:yield Ws(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(ve(t))return{data:null,error:t};throw t}})}}class $a extends ka{constructor(e,t={},n,s){super(e,t,n,s)}from(e){return new ba(this.url,this.headers,e,this.fetch)}}const Sa="2.53.0";let xt="";typeof Deno<"u"?xt="deno":typeof document<"u"?xt="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xt="react-native":xt="node";const Pa={"X-Client-Info":`supabase-js-${xt}/${Sa}`},Ta={headers:Pa},Oa={schema:"public"},Ea={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ja={};var Aa=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};const Ca=r=>{let e;return r?e=r:typeof fetch>"u"?e=Ts:e=fetch,(...t)=>e(...t)},Ra=()=>typeof Headers>"u"?Os:Headers,Ia=(r,e,t)=>{const n=Ca(t),s=Ra();return(i,a)=>Aa(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:r;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",r),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},a),{headers:c}))})};var Ma=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};function Da(r){return r.endsWith("/")?r:r+"/"}function Na(r,e){var t,n;const{db:s,auth:i,realtime:a,global:o}=r,{db:l,auth:c,realtime:u,global:d}=e,_={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),a),storage:{},global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},(t=d==null?void 0:d.headers)!==null&&t!==void 0?t:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Ma(this,void 0,void 0,function*(){return""})};return r.accessToken?_.accessToken=r.accessToken:delete _.accessToken,_}const xs="2.71.1",At=30*1e3,Yn=3,Nn=Yn*At,La="http://localhost:9999",Ua="supabase.auth.token",Ba={"X-Client-Info":`gotrue-js/${xs}`},Qn="X-Supabase-Api-Version",zs={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},qa=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Fa=10*60*1e3;class ir extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function q(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Wa extends ir{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function xa(r){return q(r)&&r.name==="AuthApiError"}class Hs extends ir{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class ot extends ir{constructor(e,t,n,s){super(e,n,s),this.name=t,this.status=n}}class nt extends ot{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function za(r){return q(r)&&r.name==="AuthSessionMissingError"}class fn extends ot{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gn extends ot{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class mn extends ot{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ha(r){return q(r)&&r.name==="AuthImplicitGrantRedirectError"}class Cr extends ot{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xn extends ot{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Ln(r){return q(r)&&r.name==="AuthRetryableFetchError"}class Rr extends ot{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Zn extends ot{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const yn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ir=` 	
\r=`.split(""),Ga=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<Ir.length;e+=1)r[Ir[e].charCodeAt(0)]=-2;for(let e=0;e<yn.length;e+=1)r[yn[e].charCodeAt(0)]=e;return r})();function Mr(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(yn[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(yn[n]),e.queuedBits-=6}}function Gs(r,e,t){const n=Ga[r];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Dr(r){const e=[],t=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Va(a,n,t)};for(let a=0;a<r.length;a+=1)Gs(r.charCodeAt(a),s,i);return e.join("")}function Ka(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Ja(r,e){for(let t=0;t<r.length;t+=1){let n=r.charCodeAt(t);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(r.charCodeAt(t+1)-56320&65535|s)+65536,t+=1}Ka(n,e)}}function Va(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let n=1;n<6;n+=1)if(!(r>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Ya(r){const e=[],t={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<r.length;s+=1)Gs(r.charCodeAt(s),t,n);return new Uint8Array(e)}function Qa(r){const e=[];return Ja(r,t=>e.push(t)),new Uint8Array(e)}function Xa(r){const e=[],t={queue:0,queuedBits:0},n=s=>{e.push(s)};return r.forEach(s=>Mr(s,t,n)),Mr(null,t,n),e.join("")}function Za(r){return Math.round(Date.now()/1e3)+r}function eo(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const Me=()=>typeof window<"u"&&typeof document<"u",ct={tested:!1,writable:!1},Ks=()=>{if(!Me())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ct.tested)return ct.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),ct.tested=!0,ct.writable=!0}catch{ct.tested=!0,ct.writable=!1}return ct.writable};function to(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return t.searchParams.forEach((n,s)=>{e[s]=n}),e}const Js=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Xt(async()=>{const{default:n}=await Promise.resolve().then(()=>Dt);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},no=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Ct=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},ut=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},et=async(r,e)=>{await r.removeItem(e)};class jn{constructor(){this.promise=new jn.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}jn.promiseConstructor=Promise;function Un(r){const e=r.split(".");if(e.length!==3)throw new Zn("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!qa.test(e[n]))throw new Zn("JWT not in base64url format");return{header:JSON.parse(Dr(e[0])),payload:JSON.parse(Dr(e[1])),signature:Ya(e[2]),raw:{header:e[0],payload:e[1]}}}async function ro(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function so(r,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await r(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function io(r){return("0"+r.toString(16)).substr(-2)}function ao(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let s="";for(let i=0;i<56;i++)s+=t.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,io).join("")}async function oo(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function lo(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await oo(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function St(r,e,t=!1){const n=ao();let s=n;t&&(s+="/PASSWORD_RECOVERY"),await Ct(r,`${e}-code-verifier`,s);const i=await lo(n);return[i,n===i?"plain":"s256"]}const co=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function uo(r){const e=r.headers.get(Qn);if(!e||!e.match(co))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ho(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function fo(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const go=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pt(r){if(!go.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Bn(){const r={};return new Proxy(r,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const n=t.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Nr(r){return JSON.parse(JSON.stringify(r))}var mo=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t};const dt=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),_o=[502,503,504];async function Lr(r){var e;if(!no(r))throw new Xn(dt(r),0);if(_o.includes(r.status))throw new Xn(dt(r),r.status);let t;try{t=await r.json()}catch(i){throw new Hs(dt(i),i)}let n;const s=uo(r);if(s&&s.getTime()>=zs["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new Rr(dt(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new nt}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Rr(dt(t),r.status,t.weak_password.reasons);throw new Wa(dt(t),r.status||500,n)}const po=(r,e,t,n)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),t))};async function H(r,e,t,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Qn]||(i[Qn]=zs["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await vo(r,e,t+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function vo(r,e,t,n,s,i){const a=po(e,n,s,i);let o;try{o=await r(t,Object.assign({},a))}catch(l){throw console.error(l),new Xn(dt(l),0)}if(o.ok||await Lr(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await Lr(l)}}function Ye(r){var e;let t=null;ko(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=Za(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function Ur(r){const e=Ye(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function rt(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function bo(r){return{data:r,error:null}}function wo(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:s,verification_type:i}=r,a=mo(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:t,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function yo(r){return r}function ko(r){return r.access_token&&r.refresh_token&&r.expires_in}const qn=["global","local","others"];var $o=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t};class So{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=Js(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=qn[0]){if(qn.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qn.join(", ")}`);try{return await H(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await H(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:rt})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=$o(e,["options"]),s=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:wo,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(q(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await H(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:rt})}catch(t){if(q(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,s,i,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:yo});if(u.error)throw u.error;const d=await u.json(),_=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);c[`${b}Page`]=m}),c.total=parseInt(_)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(q(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Pt(e);try{return await H(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:rt})}catch(t){if(q(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Pt(e);try{return await H(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:rt})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){Pt(e);try{return await H(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:rt})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Pt(e.userId);try{const{data:t,error:n}=await H(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:n}}catch(t){if(q(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Pt(e.userId),Pt(e.id);try{return{data:await H(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(q(t))return{data:null,error:t};throw t}}}function Br(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function Po(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Tt={debug:!!(globalThis&&Ks()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Vs extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class To extends Vs{}async function Oo(r,e,t){Tt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Tt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Tt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,s.name);try{return await t()}finally{Tt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,s.name)}}else{if(e===0)throw Tt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new To(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Tt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}Po();const Eo={url:La,storageKey:Ua,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ba,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function qr(r,e,t){return await t()}const Ot={};class Jt{constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Jt.nextInstanceID,Jt.nextInstanceID+=1,this.instanceID>0&&Me()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Eo),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new So({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Js(s.fetch),this.lock=s.lock||qr,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Me()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=Oo:this.lock=qr,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Ks()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Br(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Br(this.memoryStorage)),Me()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,t;return(t=(e=Ot[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Ot[this.storageKey]=Object.assign(Object.assign({},Ot[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Ot[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ot[this.storageKey]=Object.assign(Object.assign({},Ot[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${xs}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=to(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),Me()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(t,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Ha(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return q(t)?{error:t}:{error:new Hs("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,s;try{const i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ye}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,n,s;try{let i;if("email"in e){const{email:u,password:d,options:_}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await St(this.storage,this.storageKey)),i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:u,password:d,data:(t=_==null?void 0:_.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:f,code_challenge_method:g},xform:Ye})}else if("phone"in e){const{phone:u,password:d,options:_}=e;i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=_==null?void 0:_.data)!==null&&n!==void 0?n:{},channel:(s=_==null?void 0:_.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:Ye})}else throw new gn("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:i,password:a,options:o}=e;t=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ur})}else if("phone"in e){const{phone:i,password:a,options:o}=e;t=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ur})}else throw new gn("You must provide either an email or phone number and a password");const{data:n,error:s}=t;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new fn}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(t){if(q(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,n,s,i,a,o,l,c,u,d,_,f;let g,m;if("message"in e)g=e.message,m=e.signature;else{const{chain:b,wallet:E,statement:A,options:y}=e;let O;if(Me())if(typeof E=="object")O=E;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))O=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=E}const D=new URL((t=y==null?void 0:y.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in O&&O.signIn){const C=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),A?{statement:A}:null));let L;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")L=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)L=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)g=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),m=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${D.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(s=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((d=(u=y==null?void 0:y.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...y.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const C=await O.signMessage(new TextEncoder().encode(g),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=C}}try{const{data:b,error:E}=await H(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Xa(m)},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ye});if(E)throw E;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new fn}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:E})}catch(b){if(q(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const t=await ut(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(t??"").split("/");try{const{data:i,error:a}=await H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ye});if(await et(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new fn}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:n,token:s,access_token:i,nonce:a}=e,o=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Ye}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new fn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(t){if(q(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,s,i,a;try{if("email"in e){const{email:o,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await St(this.storage,this.storageKey));const{error:d}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:u}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new gn("You must provide either an email or phone number.")}catch(o){if(q(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,n;try{let s,i;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ye});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var t,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await St(this.storage,this.storageKey)),await H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:bo})}catch(i){if(q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new nt;const{error:s}=await H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(q(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await H(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:o}=await H(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new gn("You must provide either an email or phone number and a type")}catch(t){if(q(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await ut(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Nn:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await ut(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Bn()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:rt}):await this._useSession(async t=>{var n,s,i;const{data:a,error:o}=t;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nt}:await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:rt})})}catch(t){if(q(t))return za(t)&&(await this._removeSession(),await et(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new nt;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await St(this.storage,this.storageKey));const{data:c,error:u}=await H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:rt});if(u)throw u;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new nt;const t=Date.now()/1e3;let n=t,s=!0,i=null;const{payload:a}=Un(e.access_token);if(a.exp&&(n=a.exp,s=n<=t),s){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(q(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:a,error:o}=t;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new nt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(q(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Me())throw new mn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new mn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Cr("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new mn("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Cr("No code detected.");const{data:A,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=e;if(!i||!o||!a||!c)throw new mn("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(o);let _=u+d;l&&(_=parseInt(l));const f=_-u;f*1e3<=At&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const g=_-d;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,_,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,_,u);const{data:m,error:b}=await this._getUser(i);if(b)throw b;const E={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:_,refresh_token:a,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:e.type},error:null}}catch(n){if(q(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await ut(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:s,error:i}=t;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(xa(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await et(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=eo(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,s;try{const{data:{session:i},error:a}=t;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await St(this.storage,this.storageKey,!0));try{return await H(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(q(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,l,c,u;const{data:d,error:_}=i;if(_)throw _;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await H(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Me()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(q(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,s;const{data:i,error:a}=t;if(a)throw a;return await H(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(t){if(q(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await so(async s=>(s>0&&await ro(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ye})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Ln(i)&&Date.now()+a-n<At})}catch(n){if(this._debug(t,"error",n),q(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Me()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ut(this.storage,this.storageKey);if(s&&this.userStorage){let a=await ut(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Ct(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Bn()}else if(s&&!s.user&&!s.user){const a=await ut(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await et(this.storage,this.storageKey+"-user"),await Ct(this.storage,this.storageKey,s)):s.user=Bn()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((t=s.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Nn;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Nn}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Ln(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new nt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new jn;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new nt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),q(i)){const a={session:null,error:i};return Ln(i)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,t)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&t.user&&await Ct(this.userStorage,this.storageKey+"-user",{user:t.user});const s=Object.assign({},t);delete s.user;const i=Nr(s);await Ct(this.storage,this.storageKey,i)}else{const s=Nr(t);await Ct(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await et(this.storage,this.storageKey),await et(this.storage,this.storageKey+"-code-verifier"),await et(this.storage,this.storageKey+"-user"),this.userStorage&&await et(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Me()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),At);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/At);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${At}ms, refresh threshold is ${Yn} ticks`),s<=Yn&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Vs)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Me()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const s=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await St(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:s,error:i}=t;return i?{data:null,error:i}:await H(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(q(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,s;const{data:i,error:a}=t;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await H(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(q(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:s,error:i}=t;if(i)return{data:null,error:i};const{data:a,error:o}=await H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(t){if(q(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:s,error:i}=t;return i?{data:null,error:i}:await H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(q(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(e==null?void 0:e.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Un(s.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(t=s.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(o=>o.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+Fa>s)return n;const{data:i,error:a}=await H(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,t={}){try{let n=e;if(!n){const{data:f,error:g}=await this.getSession();if(g||!f.session)return{data:null,error:g};n=f.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=Un(n);t!=null&&t.allowExpired||ho(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!c){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:s,signature:a},error:null}}const u=fo(s.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,a,Qa(`${o}.${l}`)))throw new Zn("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}}Jt.nextInstanceID=0;const jo=Jt;class Ao extends jo{constructor(e){super(e)}}var Co=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};class Ro{constructor(e,t,n){var s,i,a;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=Da(e),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:Oa,realtime:ja,auth:Object.assign(Object.assign({},Ea),{storageKey:c}),global:Ta},d=Na(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(_,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=Ia(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Vi(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new $a(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Si(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Co(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:o,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ao({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:s,flowType:a,lock:o,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new ua(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Io=(r,e,t)=>new Ro(r,e,t);function Mo(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const r=process.version.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Mo()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Do=void 0,No=void 0;throw new Error("Missing Supabase environment variables");const Ne=Io(Do,No),Lo={user:null,profile:null,loading:!0},mt=er(Lo);Ne.auth.getSession().then(({data:{session:r}})=>{r!=null&&r.user?Ys(r.user):mt.update(e=>({...e,loading:!1}))});Ne.auth.onAuthStateChange(async(r,e)=>{e!=null&&e.user?await Ys(e.user):mt.set({user:null,profile:null,loading:!1})});async function Ys(r){try{const{data:e,error:t}=await Ne.from("profiles").select("*").eq("id",r.id).single();if(t)throw t;mt.set({user:r,profile:e,loading:!1})}catch(e){console.error("Error loading user profile:",e),mt.set({user:r,profile:null,loading:!1})}}const Uo=async(r,e)=>{const{data:t,error:n}=await Ne.auth.signInWithPassword({email:r,password:e});return{data:t,error:n}},Bo=async()=>{const{error:r}=await Ne.auth.signOut();return{error:r}};/**
 * @license lucide-svelte v0.532.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 */const Fr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function Wr(r,e,t){const n=r.slice();return n[11]=e[t][0],n[12]=e[t][1],n}function Fn(r){let e,t=[r[12]],n={};for(let s=0;s<t.length;s+=1)n=j(n,t[s]);return{c(){e=$s(r[11]),vn(e,n)},m(s,i){S(s,e,i)},p(s,i){vn(e,n=ne(t,[i&32&&s[12]]))},d(s){s&&$(e)}}}function xr(r){let e=r[11],t,n=r[11]&&Fn(r);return{c(){n&&n.c(),t=Qt()},m(s,i){n&&n.m(s,i),S(s,t,i)},p(s,i){s[11]?e?V(e,s[11])?(n.d(1),n=Fn(s),e=s[11],n.c(),n.m(t.parentNode,t)):n.p(s,i):(n=Fn(s),e=s[11],n.c(),n.m(t.parentNode,t)):e&&(n.d(1),n=null,e=s[11])},d(s){s&&$(t),n&&n.d(s)}}}function qo(r){let e,t,n,s,i,a=Ke(r[5]),o=[];for(let _=0;_<a.length;_+=1)o[_]=xr(Wr(r,a,_));const l=r[10].default,c=ae(l,r,r[9],null);let u=[Fr,r[7],{width:r[2]},{height:r[2]},{stroke:r[1]},{"stroke-width":n=r[4]?Number(r[3])*24/Number(r[2]):r[3]},{class:s=r[6]("lucide-icon","lucide",r[0]?`lucide-${r[0]}`:"",r[8].class)}],d={};for(let _=0;_<u.length;_+=1)d=j(d,u[_]);return{c(){e=$s("svg");for(let _=0;_<o.length;_+=1)o[_].c();t=Qt(),c&&c.c(),vn(e,d)},m(_,f){S(_,e,f);for(let g=0;g<o.length;g+=1)o[g]&&o[g].m(e,null);h(e,t),c&&c.m(e,null),i=!0},p(_,[f]){if(f&32){a=Ke(_[5]);let g;for(g=0;g<a.length;g+=1){const m=Wr(_,a,g);o[g]?o[g].p(m,f):(o[g]=xr(m),o[g].c(),o[g].m(e,t))}for(;g<o.length;g+=1)o[g].d(1);o.length=a.length}c&&c.p&&(!i||f&512)&&le(c,l,_,_[9],i?oe(l,_[9],f,null):ce(_[9]),null),vn(e,d=ne(u,[Fr,f&128&&_[7],(!i||f&4)&&{width:_[2]},(!i||f&4)&&{height:_[2]},(!i||f&2)&&{stroke:_[1]},(!i||f&28&&n!==(n=_[4]?Number(_[3])*24/Number(_[2]):_[3]))&&{"stroke-width":n},(!i||f&257&&s!==(s=_[6]("lucide-icon","lucide",_[0]?`lucide-${_[0]}`:"",_[8].class)))&&{class:s}]))},i(_){i||(w(c,_),i=!0)},o(_){k(c,_),i=!1},d(_){_&&$(e),Yt(o,_),c&&c.d(_)}}}function Fo(r,e,t){const n=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let s=vr(e,n),{$$slots:i={},$$scope:a}=e,{name:o=void 0}=e,{color:l="currentColor"}=e,{size:c=24}=e,{strokeWidth:u=2}=e,{absoluteStrokeWidth:d=!1}=e,{iconNode:_=[]}=e;const f=(...g)=>g.filter((m,b,E)=>!!m&&E.indexOf(m)===b).join(" ");return r.$$set=g=>{t(8,e=j(j({},e),B(g))),t(7,s=vr(e,n)),"name"in g&&t(0,o=g.name),"color"in g&&t(1,l=g.color),"size"in g&&t(2,c=g.size),"strokeWidth"in g&&t(3,u=g.strokeWidth),"absoluteStrokeWidth"in g&&t(4,d=g.absoluteStrokeWidth),"iconNode"in g&&t(5,_=g.iconNode),"$$scope"in g&&t(9,a=g.$$scope)},e=B(e),[o,l,c,u,d,_,f,s,e,a,i]}class he extends Q{constructor(e){super(),Y(this,e,Fo,qo,V,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}function Wo(r){let e;const t=r[2].default,n=ae(t,r,r[3],null);return{c(){n&&n.c()},m(s,i){n&&n.m(s,i),e=!0},p(s,i){n&&n.p&&(!e||i&8)&&le(n,t,s,s[3],e?oe(t,s[3],i,null):ce(s[3]),null)},i(s){e||(w(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function xo(r){let e,t;const n=[{name:"bed"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[Wo]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=j(s,n[i]);return e=new he({props:s}),{c(){M(e.$$.fragment)},m(i,a){R(e,i,a),t=!0},p(i,[a]){const o=a&3?ne(n,[n[0],a&2&&de(i[1]),a&1&&{iconNode:i[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(w(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){I(e,i)}}}function zo(r,e,t){let{$$slots:n={},$$scope:s}=e;const i=[["path",{d:"M2 4v16"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10"}],["path",{d:"M2 17h20"}],["path",{d:"M6 8v9"}]];return r.$$set=a=>{t(1,e=j(j({},e),B(a))),"$$scope"in a&&t(3,s=a.$$scope)},e=B(e),[i,e,n,s]}class zr extends Q{constructor(e){super(),Y(this,e,zo,xo,V,{})}}function Ho(r){let e;const t=r[2].default,n=ae(t,r,r[3],null);return{c(){n&&n.c()},m(s,i){n&&n.m(s,i),e=!0},p(s,i){n&&n.p&&(!e||i&8)&&le(n,t,s,s[3],e?oe(t,s[3],i,null):ce(s[3]),null)},i(s){e||(w(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function Go(r){let e,t;const n=[{name:"bell"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[Ho]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=j(s,n[i]);return e=new he({props:s}),{c(){M(e.$$.fragment)},m(i,a){R(e,i,a),t=!0},p(i,[a]){const o=a&3?ne(n,[n[0],a&2&&de(i[1]),a&1&&{iconNode:i[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(w(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){I(e,i)}}}function Ko(r,e,t){let{$$slots:n={},$$scope:s}=e;const i=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326"}]];return r.$$set=a=>{t(1,e=j(j({},e),B(a))),"$$scope"in a&&t(3,s=a.$$scope)},e=B(e),[i,e,n,s]}class Jo extends Q{constructor(e){super(),Y(this,e,Ko,Go,V,{})}}function Vo(r){let e;const t=r[2].default,n=ae(t,r,r[3],null);return{c(){n&&n.c()},m(s,i){n&&n.m(s,i),e=!0},p(s,i){n&&n.p&&(!e||i&8)&&le(n,t,s,s[3],e?oe(t,s[3],i,null):ce(s[3]),null)},i(s){e||(w(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function Yo(r){let e,t;const n=[{name:"calendar"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[Vo]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=j(s,n[i]);return e=new he({props:s}),{c(){M(e.$$.fragment)},m(i,a){R(e,i,a),t=!0},p(i,[a]){const o=a&3?ne(n,[n[0],a&2&&de(i[1]),a&1&&{iconNode:i[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(w(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){I(e,i)}}}function Qo(r,e,t){let{$$slots:n={},$$scope:s}=e;const i=[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}]];return r.$$set=a=>{t(1,e=j(j({},e),B(a))),"$$scope"in a&&t(3,s=a.$$scope)},e=B(e),[i,e,n,s]}class Xo extends Q{constructor(e){super(),Y(this,e,Qo,Yo,V,{})}}function Zo(r){let e;const t=r[2].default,n=ae(t,r,r[3],null);return{c(){n&&n.c()},m(s,i){n&&n.m(s,i),e=!0},p(s,i){n&&n.p&&(!e||i&8)&&le(n,t,s,s[3],e?oe(t,s[3],i,null):ce(s[3]),null)},i(s){e||(w(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function el(r){let e,t;const n=[{name:"chevron-down"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[Zo]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=j(s,n[i]);return e=new he({props:s}),{c(){M(e.$$.fragment)},m(i,a){R(e,i,a),t=!0},p(i,[a]){const o=a&3?ne(n,[n[0],a&2&&de(i[1]),a&1&&{iconNode:i[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(w(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){I(e,i)}}}function tl(r,e,t){let{$$slots:n={},$$scope:s}=e;const i=[["path",{d:"m6 9 6 6 6-6"}]];return r.$$set=a=>{t(1,e=j(j({},e),B(a))),"$$scope"in a&&t(3,s=a.$$scope)},e=B(e),[i,e,n,s]}class nl extends Q{constructor(e){super(),Y(this,e,tl,el,V,{})}}function rl(r){let e;const t=r[2].default,n=ae(t,r,r[3],null);return{c(){n&&n.c()},m(s,i){n&&n.m(s,i),e=!0},p(s,i){n&&n.p&&(!e||i&8)&&le(n,t,s,s[3],e?oe(t,s[3],i,null):ce(s[3]),null)},i(s){e||(w(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function sl(r){let e,t;const n=[{name:"chevron-right"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[rl]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=j(s,n[i]);return e=new he({props:s}),{c(){M(e.$$.fragment)},m(i,a){R(e,i,a),t=!0},p(i,[a]){const o=a&3?ne(n,[n[0],a&2&&de(i[1]),a&1&&{iconNode:i[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(w(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){I(e,i)}}}function il(r,e,t){let{$$slots:n={},$$scope:s}=e;const i=[["path",{d:"m9 18 6-6-6-6"}]];return r.$$set=a=>{t(1,e=j(j({},e),B(a))),"$$scope"in a&&t(3,s=a.$$scope)},e=B(e),[i,e,n,s]}class al extends Q{constructor(e){super(),Y(this,e,il,sl,V,{})}}function ol(r){let e;const t=r[2].default,n=ae(t,r,r[3],null);return{c(){n&&n.c()},m(s,i){n&&n.m(s,i),e=!0},p(s,i){n&&n.p&&(!e||i&8)&&le(n,t,s,s[3],e?oe(t,s[3],i,null):ce(s[3]),null)},i(s){e||(w(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function ll(r){let e,t;const n=[{name:"ellipsis-vertical"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[ol]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=j(s,n[i]);return e=new he({props:s}),{c(){M(e.$$.fragment)},m(i,a){R(e,i,a),t=!0},p(i,[a]){const o=a&3?ne(n,[n[0],a&2&&de(i[1]),a&1&&{iconNode:i[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(w(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){I(e,i)}}}function cl(r,e,t){let{$$slots:n={},$$scope:s}=e;const i=[["circle",{cx:"12",cy:"12",r:"1"}],["circle",{cx:"12",cy:"5",r:"1"}],["circle",{cx:"12",cy:"19",r:"1"}]];return r.$$set=a=>{t(1,e=j(j({},e),B(a))),"$$scope"in a&&t(3,s=a.$$scope)},e=B(e),[i,e,n,s]}class ul extends Q{constructor(e){super(),Y(this,e,cl,ll,V,{})}}function dl(r){let e;const t=r[2].default,n=ae(t,r,r[3],null);return{c(){n&&n.c()},m(s,i){n&&n.m(s,i),e=!0},p(s,i){n&&n.p&&(!e||i&8)&&le(n,t,s,s[3],e?oe(t,s[3],i,null):ce(s[3]),null)},i(s){e||(w(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function hl(r){let e,t;const n=[{name:"eye-off"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[dl]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=j(s,n[i]);return e=new he({props:s}),{c(){M(e.$$.fragment)},m(i,a){R(e,i,a),t=!0},p(i,[a]){const o=a&3?ne(n,[n[0],a&2&&de(i[1]),a&1&&{iconNode:i[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(w(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){I(e,i)}}}function fl(r,e,t){let{$$slots:n={},$$scope:s}=e;const i=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143"}],["path",{d:"m2 2 20 20"}]];return r.$$set=a=>{t(1,e=j(j({},e),B(a))),"$$scope"in a&&t(3,s=a.$$scope)},e=B(e),[i,e,n,s]}class gl extends Q{constructor(e){super(),Y(this,e,fl,hl,V,{})}}function ml(r){let e;const t=r[2].default,n=ae(t,r,r[3],null);return{c(){n&&n.c()},m(s,i){n&&n.m(s,i),e=!0},p(s,i){n&&n.p&&(!e||i&8)&&le(n,t,s,s[3],e?oe(t,s[3],i,null):ce(s[3]),null)},i(s){e||(w(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function _l(r){let e,t;const n=[{name:"eye"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[ml]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=j(s,n[i]);return e=new he({props:s}),{c(){M(e.$$.fragment)},m(i,a){R(e,i,a),t=!0},p(i,[a]){const o=a&3?ne(n,[n[0],a&2&&de(i[1]),a&1&&{iconNode:i[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(w(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){I(e,i)}}}function pl(r,e,t){let{$$slots:n={},$$scope:s}=e;const i=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}],["circle",{cx:"12",cy:"12",r:"3"}]];return r.$$set=a=>{t(1,e=j(j({},e),B(a))),"$$scope"in a&&t(3,s=a.$$scope)},e=B(e),[i,e,n,s]}class Qs extends Q{constructor(e){super(),Y(this,e,pl,_l,V,{})}}function vl(r){let e;const t=r[2].default,n=ae(t,r,r[3],null);return{c(){n&&n.c()},m(s,i){n&&n.m(s,i),e=!0},p(s,i){n&&n.p&&(!e||i&8)&&le(n,t,s,s[3],e?oe(t,s[3],i,null):ce(s[3]),null)},i(s){e||(w(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function bl(r){let e,t;const n=[{name:"funnel"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[vl]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=j(s,n[i]);return e=new he({props:s}),{c(){M(e.$$.fragment)},m(i,a){R(e,i,a),t=!0},p(i,[a]){const o=a&3?ne(n,[n[0],a&2&&de(i[1]),a&1&&{iconNode:i[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(w(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){I(e,i)}}}function wl(r,e,t){let{$$slots:n={},$$scope:s}=e;const i=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z"}]];return r.$$set=a=>{t(1,e=j(j({},e),B(a))),"$$scope"in a&&t(3,s=a.$$scope)},e=B(e),[i,e,n,s]}class yl extends Q{constructor(e){super(),Y(this,e,wl,bl,V,{})}}function kl(r){let e;const t=r[2].default,n=ae(t,r,r[3],null);return{c(){n&&n.c()},m(s,i){n&&n.m(s,i),e=!0},p(s,i){n&&n.p&&(!e||i&8)&&le(n,t,s,s[3],e?oe(t,s[3],i,null):ce(s[3]),null)},i(s){e||(w(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function $l(r){let e,t;const n=[{name:"lock"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[kl]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=j(s,n[i]);return e=new he({props:s}),{c(){M(e.$$.fragment)},m(i,a){R(e,i,a),t=!0},p(i,[a]){const o=a&3?ne(n,[n[0],a&2&&de(i[1]),a&1&&{iconNode:i[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(w(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){I(e,i)}}}function Sl(r,e,t){let{$$slots:n={},$$scope:s}=e;const i=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}]];return r.$$set=a=>{t(1,e=j(j({},e),B(a))),"$$scope"in a&&t(3,s=a.$$scope)},e=B(e),[i,e,n,s]}class Pl extends Q{constructor(e){super(),Y(this,e,Sl,$l,V,{})}}function Tl(r){let e;const t=r[2].default,n=ae(t,r,r[3],null);return{c(){n&&n.c()},m(s,i){n&&n.m(s,i),e=!0},p(s,i){n&&n.p&&(!e||i&8)&&le(n,t,s,s[3],e?oe(t,s[3],i,null):ce(s[3]),null)},i(s){e||(w(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function Ol(r){let e,t;const n=[{name:"log-out"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[Tl]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=j(s,n[i]);return e=new he({props:s}),{c(){M(e.$$.fragment)},m(i,a){R(e,i,a),t=!0},p(i,[a]){const o=a&3?ne(n,[n[0],a&2&&de(i[1]),a&1&&{iconNode:i[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(w(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){I(e,i)}}}function El(r,e,t){let{$$slots:n={},$$scope:s}=e;const i=[["path",{d:"m16 17 5-5-5-5"}],["path",{d:"M21 12H9"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}]];return r.$$set=a=>{t(1,e=j(j({},e),B(a))),"$$scope"in a&&t(3,s=a.$$scope)},e=B(e),[i,e,n,s]}class jl extends Q{constructor(e){super(),Y(this,e,El,Ol,V,{})}}function Al(r){let e;const t=r[2].default,n=ae(t,r,r[3],null);return{c(){n&&n.c()},m(s,i){n&&n.m(s,i),e=!0},p(s,i){n&&n.p&&(!e||i&8)&&le(n,t,s,s[3],e?oe(t,s[3],i,null):ce(s[3]),null)},i(s){e||(w(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function Cl(r){let e,t;const n=[{name:"mail"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[Al]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=j(s,n[i]);return e=new he({props:s}),{c(){M(e.$$.fragment)},m(i,a){R(e,i,a),t=!0},p(i,[a]){const o=a&3?ne(n,[n[0],a&2&&de(i[1]),a&1&&{iconNode:i[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(w(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){I(e,i)}}}function Rl(r,e,t){let{$$slots:n={},$$scope:s}=e;const i=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"}]];return r.$$set=a=>{t(1,e=j(j({},e),B(a))),"$$scope"in a&&t(3,s=a.$$scope)},e=B(e),[i,e,n,s]}class Il extends Q{constructor(e){super(),Y(this,e,Rl,Cl,V,{})}}function Ml(r){let e;const t=r[2].default,n=ae(t,r,r[3],null);return{c(){n&&n.c()},m(s,i){n&&n.m(s,i),e=!0},p(s,i){n&&n.p&&(!e||i&8)&&le(n,t,s,s[3],e?oe(t,s[3],i,null):ce(s[3]),null)},i(s){e||(w(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function Dl(r){let e,t;const n=[{name:"menu"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[Ml]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=j(s,n[i]);return e=new he({props:s}),{c(){M(e.$$.fragment)},m(i,a){R(e,i,a),t=!0},p(i,[a]){const o=a&3?ne(n,[n[0],a&2&&de(i[1]),a&1&&{iconNode:i[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(w(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){I(e,i)}}}function Nl(r,e,t){let{$$slots:n={},$$scope:s}=e;const i=[["path",{d:"M4 12h16"}],["path",{d:"M4 18h16"}],["path",{d:"M4 6h16"}]];return r.$$set=a=>{t(1,e=j(j({},e),B(a))),"$$scope"in a&&t(3,s=a.$$scope)},e=B(e),[i,e,n,s]}class Ll extends Q{constructor(e){super(),Y(this,e,Nl,Dl,V,{})}}function Ul(r){let e;const t=r[2].default,n=ae(t,r,r[3],null);return{c(){n&&n.c()},m(s,i){n&&n.m(s,i),e=!0},p(s,i){n&&n.p&&(!e||i&8)&&le(n,t,s,s[3],e?oe(t,s[3],i,null):ce(s[3]),null)},i(s){e||(w(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function Bl(r){let e,t;const n=[{name:"plus"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[Ul]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=j(s,n[i]);return e=new he({props:s}),{c(){M(e.$$.fragment)},m(i,a){R(e,i,a),t=!0},p(i,[a]){const o=a&3?ne(n,[n[0],a&2&&de(i[1]),a&1&&{iconNode:i[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(w(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){I(e,i)}}}function ql(r,e,t){let{$$slots:n={},$$scope:s}=e;const i=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];return r.$$set=a=>{t(1,e=j(j({},e),B(a))),"$$scope"in a&&t(3,s=a.$$scope)},e=B(e),[i,e,n,s]}class Fl extends Q{constructor(e){super(),Y(this,e,ql,Bl,V,{})}}function Wl(r){let e;const t=r[2].default,n=ae(t,r,r[3],null);return{c(){n&&n.c()},m(s,i){n&&n.m(s,i),e=!0},p(s,i){n&&n.p&&(!e||i&8)&&le(n,t,s,s[3],e?oe(t,s[3],i,null):ce(s[3]),null)},i(s){e||(w(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function xl(r){let e,t;const n=[{name:"receipt"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[Wl]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=j(s,n[i]);return e=new he({props:s}),{c(){M(e.$$.fragment)},m(i,a){R(e,i,a),t=!0},p(i,[a]){const o=a&3?ne(n,[n[0],a&2&&de(i[1]),a&1&&{iconNode:i[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(w(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){I(e,i)}}}function zl(r,e,t){let{$$slots:n={},$$scope:s}=e;const i=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8"}],["path",{d:"M12 17.5v-11"}]];return r.$$set=a=>{t(1,e=j(j({},e),B(a))),"$$scope"in a&&t(3,s=a.$$scope)},e=B(e),[i,e,n,s]}class Hl extends Q{constructor(e){super(),Y(this,e,zl,xl,V,{})}}function Gl(r){let e;const t=r[2].default,n=ae(t,r,r[3],null);return{c(){n&&n.c()},m(s,i){n&&n.m(s,i),e=!0},p(s,i){n&&n.p&&(!e||i&8)&&le(n,t,s,s[3],e?oe(t,s[3],i,null):ce(s[3]),null)},i(s){e||(w(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function Kl(r){let e,t;const n=[{name:"search"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[Gl]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=j(s,n[i]);return e=new he({props:s}),{c(){M(e.$$.fragment)},m(i,a){R(e,i,a),t=!0},p(i,[a]){const o=a&3?ne(n,[n[0],a&2&&de(i[1]),a&1&&{iconNode:i[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(w(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){I(e,i)}}}function Jl(r,e,t){let{$$slots:n={},$$scope:s}=e;const i=[["path",{d:"m21 21-4.34-4.34"}],["circle",{cx:"11",cy:"11",r:"8"}]];return r.$$set=a=>{t(1,e=j(j({},e),B(a))),"$$scope"in a&&t(3,s=a.$$scope)},e=B(e),[i,e,n,s]}class Vl extends Q{constructor(e){super(),Y(this,e,Jl,Kl,V,{})}}function Yl(r){let e;const t=r[2].default,n=ae(t,r,r[3],null);return{c(){n&&n.c()},m(s,i){n&&n.m(s,i),e=!0},p(s,i){n&&n.p&&(!e||i&8)&&le(n,t,s,s[3],e?oe(t,s[3],i,null):ce(s[3]),null)},i(s){e||(w(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function Ql(r){let e,t;const n=[{name:"settings"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[Yl]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=j(s,n[i]);return e=new he({props:s}),{c(){M(e.$$.fragment)},m(i,a){R(e,i,a),t=!0},p(i,[a]){const o=a&3?ne(n,[n[0],a&2&&de(i[1]),a&1&&{iconNode:i[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(w(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){I(e,i)}}}function Xl(r,e,t){let{$$slots:n={},$$scope:s}=e;const i=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}],["circle",{cx:"12",cy:"12",r:"3"}]];return r.$$set=a=>{t(1,e=j(j({},e),B(a))),"$$scope"in a&&t(3,s=a.$$scope)},e=B(e),[i,e,n,s]}class Zl extends Q{constructor(e){super(),Y(this,e,Xl,Ql,V,{})}}function ec(r){let e;const t=r[2].default,n=ae(t,r,r[3],null);return{c(){n&&n.c()},m(s,i){n&&n.m(s,i),e=!0},p(s,i){n&&n.p&&(!e||i&8)&&le(n,t,s,s[3],e?oe(t,s[3],i,null):ce(s[3]),null)},i(s){e||(w(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function tc(r){let e,t;const n=[{name:"square-pen"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[ec]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=j(s,n[i]);return e=new he({props:s}),{c(){M(e.$$.fragment)},m(i,a){R(e,i,a),t=!0},p(i,[a]){const o=a&3?ne(n,[n[0],a&2&&de(i[1]),a&1&&{iconNode:i[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(w(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){I(e,i)}}}function nc(r,e,t){let{$$slots:n={},$$scope:s}=e;const i=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"}]];return r.$$set=a=>{t(1,e=j(j({},e),B(a))),"$$scope"in a&&t(3,s=a.$$scope)},e=B(e),[i,e,n,s]}class rc extends Q{constructor(e){super(),Y(this,e,nc,tc,V,{})}}function sc(r){let e;const t=r[2].default,n=ae(t,r,r[3],null);return{c(){n&&n.c()},m(s,i){n&&n.m(s,i),e=!0},p(s,i){n&&n.p&&(!e||i&8)&&le(n,t,s,s[3],e?oe(t,s[3],i,null):ce(s[3]),null)},i(s){e||(w(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function ic(r){let e,t;const n=[{name:"trash-2"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[sc]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=j(s,n[i]);return e=new he({props:s}),{c(){M(e.$$.fragment)},m(i,a){R(e,i,a),t=!0},p(i,[a]){const o=a&3?ne(n,[n[0],a&2&&de(i[1]),a&1&&{iconNode:i[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(w(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){I(e,i)}}}function ac(r,e,t){let{$$slots:n={},$$scope:s}=e;const i=[["path",{d:"M10 11v6"}],["path",{d:"M14 11v6"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}],["path",{d:"M3 6h18"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}]];return r.$$set=a=>{t(1,e=j(j({},e),B(a))),"$$scope"in a&&t(3,s=a.$$scope)},e=B(e),[i,e,n,s]}class oc extends Q{constructor(e){super(),Y(this,e,ac,ic,V,{})}}function lc(r){let e;const t=r[2].default,n=ae(t,r,r[3],null);return{c(){n&&n.c()},m(s,i){n&&n.m(s,i),e=!0},p(s,i){n&&n.p&&(!e||i&8)&&le(n,t,s,s[3],e?oe(t,s[3],i,null):ce(s[3]),null)},i(s){e||(w(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function cc(r){let e,t;const n=[{name:"trending-down"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[lc]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=j(s,n[i]);return e=new he({props:s}),{c(){M(e.$$.fragment)},m(i,a){R(e,i,a),t=!0},p(i,[a]){const o=a&3?ne(n,[n[0],a&2&&de(i[1]),a&1&&{iconNode:i[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(w(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){I(e,i)}}}function uc(r,e,t){let{$$slots:n={},$$scope:s}=e;const i=[["path",{d:"M16 17h6v-6"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7"}]];return r.$$set=a=>{t(1,e=j(j({},e),B(a))),"$$scope"in a&&t(3,s=a.$$scope)},e=B(e),[i,e,n,s]}class dc extends Q{constructor(e){super(),Y(this,e,uc,cc,V,{})}}function hc(r){let e;const t=r[2].default,n=ae(t,r,r[3],null);return{c(){n&&n.c()},m(s,i){n&&n.m(s,i),e=!0},p(s,i){n&&n.p&&(!e||i&8)&&le(n,t,s,s[3],e?oe(t,s[3],i,null):ce(s[3]),null)},i(s){e||(w(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function fc(r){let e,t;const n=[{name:"trending-up"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[hc]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=j(s,n[i]);return e=new he({props:s}),{c(){M(e.$$.fragment)},m(i,a){R(e,i,a),t=!0},p(i,[a]){const o=a&3?ne(n,[n[0],a&2&&de(i[1]),a&1&&{iconNode:i[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(w(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){I(e,i)}}}function gc(r,e,t){let{$$slots:n={},$$scope:s}=e;const i=[["path",{d:"M16 7h6v6"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17"}]];return r.$$set=a=>{t(1,e=j(j({},e),B(a))),"$$scope"in a&&t(3,s=a.$$scope)},e=B(e),[i,e,n,s]}class Hr extends Q{constructor(e){super(),Y(this,e,gc,fc,V,{})}}function mc(r){let e;const t=r[2].default,n=ae(t,r,r[3],null);return{c(){n&&n.c()},m(s,i){n&&n.m(s,i),e=!0},p(s,i){n&&n.p&&(!e||i&8)&&le(n,t,s,s[3],e?oe(t,s[3],i,null):ce(s[3]),null)},i(s){e||(w(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function _c(r){let e,t;const n=[{name:"user"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[mc]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=j(s,n[i]);return e=new he({props:s}),{c(){M(e.$$.fragment)},m(i,a){R(e,i,a),t=!0},p(i,[a]){const o=a&3?ne(n,[n[0],a&2&&de(i[1]),a&1&&{iconNode:i[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(w(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){I(e,i)}}}function pc(r,e,t){let{$$slots:n={},$$scope:s}=e;const i=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}],["circle",{cx:"12",cy:"7",r:"4"}]];return r.$$set=a=>{t(1,e=j(j({},e),B(a))),"$$scope"in a&&t(3,s=a.$$scope)},e=B(e),[i,e,n,s]}class Xs extends Q{constructor(e){super(),Y(this,e,pc,_c,V,{})}}function vc(r){let e;const t=r[2].default,n=ae(t,r,r[3],null);return{c(){n&&n.c()},m(s,i){n&&n.m(s,i),e=!0},p(s,i){n&&n.p&&(!e||i&8)&&le(n,t,s,s[3],e?oe(t,s[3],i,null):ce(s[3]),null)},i(s){e||(w(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function bc(r){let e,t;const n=[{name:"users"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[vc]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=j(s,n[i]);return e=new he({props:s}),{c(){M(e.$$.fragment)},m(i,a){R(e,i,a),t=!0},p(i,[a]){const o=a&3?ne(n,[n[0],a&2&&de(i[1]),a&1&&{iconNode:i[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(w(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){I(e,i)}}}function wc(r,e,t){let{$$slots:n={},$$scope:s}=e;const i=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}],["circle",{cx:"9",cy:"7",r:"4"}]];return r.$$set=a=>{t(1,e=j(j({},e),B(a))),"$$scope"in a&&t(3,s=a.$$scope)},e=B(e),[i,e,n,s]}class yc extends Q{constructor(e){super(),Y(this,e,wc,bc,V,{})}}function Gr(r){let e,t;return{c(){e=v("div"),t=T(r[4]),p(e,"class","error-message svelte-c50h8")},m(n,s){S(n,e,s),h(e,t)},p(n,s){s&16&&ge(t,n[4])},d(n){n&&$(e)}}}function kc(r){let e,t,n;return{c(){e=v("input"),p(e,"id","password"),p(e,"type","password"),p(e,"placeholder","Enter your password"),e.required=!0,e.disabled=r[3],p(e,"class","svelte-c50h8")},m(s,i){S(s,e,i),Ze(e,r[1]),t||(n=Se(e,"input",r[9]),t=!0)},p(s,i){i&8&&(e.disabled=s[3]),i&2&&e.value!==s[1]&&Ze(e,s[1])},d(s){s&&$(e),t=!1,n()}}}function $c(r){let e,t,n;return{c(){e=v("input"),p(e,"id","password"),p(e,"type","text"),p(e,"placeholder","Enter your password"),e.required=!0,e.disabled=r[3],p(e,"class","svelte-c50h8")},m(s,i){S(s,e,i),Ze(e,r[1]),t||(n=Se(e,"input",r[8]),t=!0)},p(s,i){i&8&&(e.disabled=s[3]),i&2&&e.value!==s[1]&&Ze(e,s[1])},d(s){s&&$(e),t=!1,n()}}}function Sc(r){let e,t;return e=new Qs({props:{size:20}}),{c(){M(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Pc(r){let e,t;return e=new gl({props:{size:20}}),{c(){M(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Tc(r){let e;return{c(){e=T("Sign In")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function Oc(r){let e,t;return{c(){e=v("div"),t=T(`
          Signing in...`),p(e,"class","spinner svelte-c50h8")},m(n,s){S(n,e,s),S(n,t,s)},d(n){n&&($(e),$(t))}}}function Ec(r){let e,t,n,s,i,a,o,l,c,u,d,_,f,g,m,b,E,A,y,O,D,C,L,G,re,se,me,ee,K,be,x,J=r[4]&&Gr(r);d=new Il({props:{class:"input-icon",size:20}}),y=new Pl({props:{class:"input-icon",size:20}});function N(W,fe){return W[2]?$c:kc}let F=N(r),z=F(r);const ie=[Pc,Sc],ue=[];function qe(W,fe){return W[2]?0:1}L=qe(r),G=ue[L]=ie[L](r);function Te(W,fe){return W[3]?Oc:Tc}let Oe=Te(r),Ee=Oe(r);return{c(){e=v("div"),t=v("div"),n=v("div"),n.innerHTML='<div class="logo svelte-c50h8"><div class="logo-icon svelte-c50h8"></div> <h1 class="svelte-c50h8">Hospital Management System</h1></div> <p class="subtitle svelte-c50h8">Sign in to your account</p>',s=P(),i=v("form"),J&&J.c(),a=P(),o=v("div"),l=v("label"),l.textContent="Email Address",c=P(),u=v("div"),M(d.$$.fragment),_=P(),f=v("input"),g=P(),m=v("div"),b=v("label"),b.textContent="Password",E=P(),A=v("div"),M(y.$$.fragment),O=P(),z.c(),D=P(),C=v("button"),G.c(),re=P(),se=v("button"),Ee.c(),me=P(),ee=v("div"),ee.innerHTML='<p class="svelte-c50h8">Demo Credentials:</p> <div class="demo-credentials svelte-c50h8"><div class="svelte-c50h8"><strong>Admin:</strong> admin@hospital.com / admin123</div> <div class="svelte-c50h8"><strong>Doctor:</strong> doctor@hospital.com / doctor123</div> <div class="svelte-c50h8"><strong>Nurse:</strong> nurse@hospital.com / nurse123</div></div>',p(n,"class","login-header svelte-c50h8"),p(l,"for","email"),p(l,"class","svelte-c50h8"),p(f,"id","email"),p(f,"type","email"),p(f,"placeholder","Enter your email"),f.required=!0,f.disabled=r[3],p(f,"class","svelte-c50h8"),p(u,"class","input-wrapper svelte-c50h8"),p(o,"class","form-group svelte-c50h8"),p(b,"for","password"),p(b,"class","svelte-c50h8"),p(C,"type","button"),p(C,"class","password-toggle svelte-c50h8"),C.disabled=r[3],p(A,"class","input-wrapper svelte-c50h8"),p(m,"class","form-group svelte-c50h8"),p(se,"type","submit"),p(se,"class","login-button svelte-c50h8"),se.disabled=r[3],p(i,"class","login-form svelte-c50h8"),p(ee,"class","login-footer svelte-c50h8"),p(t,"class","login-card svelte-c50h8"),p(e,"class","login-container svelte-c50h8")},m(W,fe){S(W,e,fe),h(e,t),h(t,n),h(t,s),h(t,i),J&&J.m(i,null),h(i,a),h(i,o),h(o,l),h(o,c),h(o,u),R(d,u,null),h(u,_),h(u,f),Ze(f,r[0]),h(i,g),h(i,m),h(m,b),h(m,E),h(m,A),R(y,A,null),h(A,O),z.m(A,null),h(A,D),h(A,C),ue[L].m(C,null),h(i,re),h(i,se),Ee.m(se,null),h(t,me),h(t,ee),K=!0,be||(x=[Se(f,"input",r[7]),Se(C,"click",r[6]),Se(i,"submit",ci(r[5]))],be=!0)},p(W,[fe]){W[4]?J?J.p(W,fe):(J=Gr(W),J.c(),J.m(i,a)):J&&(J.d(1),J=null),(!K||fe&8)&&(f.disabled=W[3]),fe&1&&f.value!==W[0]&&Ze(f,W[0]),F===(F=N(W))&&z?z.p(W,fe):(z.d(1),z=F(W),z&&(z.c(),z.m(A,D)));let ye=L;L=qe(W),L!==ye&&(Le(),k(ue[ye],1,1,()=>{ue[ye]=null}),Ue(),G=ue[L],G||(G=ue[L]=ie[L](W),G.c()),w(G,1),G.m(C,null)),(!K||fe&8)&&(C.disabled=W[3]),Oe!==(Oe=Te(W))&&(Ee.d(1),Ee=Oe(W),Ee&&(Ee.c(),Ee.m(se,null))),(!K||fe&8)&&(se.disabled=W[3])},i(W){K||(w(d.$$.fragment,W),w(y.$$.fragment,W),w(G),K=!0)},o(W){k(d.$$.fragment,W),k(y.$$.fragment,W),k(G),K=!1},d(W){W&&$(e),J&&J.d(),I(d),I(y),z.d(),ue[L].d(),Ee.d(),be=!1,at(x)}}}function jc(r,e,t){let n="",s="",i=!1,a=!1,o="";async function l(){if(!n||!s){t(4,o="Please fill in all fields");return}t(3,a=!0),t(4,o="");try{const{error:f}=await Uo(n,s);f&&t(4,o=f.message)}catch{t(4,o="An unexpected error occurred")}finally{t(3,a=!1)}}function c(){t(2,i=!i)}function u(){n=this.value,t(0,n)}function d(){s=this.value,t(1,s)}function _(){s=this.value,t(1,s)}return[n,s,i,a,o,l,c,u,d,_]}class Ac extends Q{constructor(e){super(),Y(this,e,jc,Ec,V,{})}}const Cc=[{id:"dashboard",label:"Dashboard",icon:"LayoutDashboard",path:"/dashboard",roles:["admin","doctor","nurse","receptionist","pharmacist","lab_tech","finance"]},{id:"patient-journey",label:"Patient Journey",icon:"Users",path:"/patient-journey",roles:["admin","doctor","nurse","receptionist"],children:[{id:"enquiry",label:"Enquiry",icon:"Search",path:"/patient-journey/enquiry",roles:["admin","receptionist"]},{id:"booking",label:"Booking",icon:"Calendar",path:"/patient-journey/booking",roles:["admin","receptionist"]},{id:"registration",label:"Registration",icon:"UserPlus",path:"/patient-journey/registration",roles:["admin","receptionist"]},{id:"admission",label:"Admission",icon:"UserCheck",path:"/patient-journey/admission",roles:["admin","doctor","nurse"]},{id:"discharge",label:"Discharge",icon:"UserMinus",path:"/patient-journey/discharge",roles:["admin","doctor","nurse"]}]},{id:"front-office",label:"Front Office",icon:"Building",path:"/front-office",roles:["admin","receptionist"],children:[{id:"op-advances",label:"OP Advances",icon:"CreditCard",path:"/front-office/op-advances",roles:["admin","receptionist"]},{id:"registration",label:"Registration",icon:"FileText",path:"/front-office/registration",roles:["admin","receptionist"]},{id:"out-of-station",label:"Out of Station",icon:"MapPin",path:"/front-office/out-of-station",roles:["admin","receptionist"]},{id:"analysis",label:"Analysis",icon:"BarChart3",path:"/front-office/analysis",roles:["admin"]}]},{id:"room-management",label:"Room Management",icon:"Bed",path:"/room-management",roles:["admin","nurse","receptionist"],children:[{id:"rooms",label:"Rooms",icon:"Home",path:"/room-management/rooms",roles:["admin","nurse","receptionist"]},{id:"booking",label:"Room Booking",icon:"Calendar",path:"/room-management/booking",roles:["admin","nurse","receptionist"]},{id:"categories",label:"Room Categories",icon:"Grid3x3",path:"/room-management/categories",roles:["admin"]},{id:"services",label:"Room Services",icon:"Settings",path:"/room-management/services",roles:["admin"]}]},{id:"patient-care",label:"Patient Care",icon:"Heart",path:"/patient-care",roles:["admin","doctor","nurse"],children:[{id:"nursing-station",label:"Nursing Station",icon:"Stethoscope",path:"/patient-care/nursing-station",roles:["admin","nurse"]},{id:"op-consultation",label:"OP Consultation",icon:"UserCheck",path:"/patient-care/op-consultation",roles:["admin","doctor"]},{id:"operation-theater",label:"Operation Theater",icon:"Activity",path:"/patient-care/operation-theater",roles:["admin","doctor"]}]},{id:"billing",label:"Billing & Finance",icon:"Receipt",path:"/billing",roles:["admin","finance"],children:[{id:"department-billing",label:"Department Billing",icon:"FileText",path:"/billing/department",roles:["admin","finance"]},{id:"central-cash",label:"Central Cash",icon:"Banknote",path:"/billing/central-cash",roles:["admin","finance"]},{id:"finance",label:"Finance",icon:"TrendingUp",path:"/billing/finance",roles:["admin","finance"]}]},{id:"pharmacy",label:"Pharmacy & Inventory",icon:"Pill",path:"/pharmacy",roles:["admin","pharmacist"],children:[{id:"pharmacy",label:"Pharmacy",icon:"Pill",path:"/pharmacy/pharmacy",roles:["admin","pharmacist"]},{id:"central-store",label:"Central Store",icon:"Package",path:"/pharmacy/central-store",roles:["admin","pharmacist"]}]},{id:"laboratory",label:"Laboratory",icon:"TestTube",path:"/laboratory",roles:["admin","lab_tech","doctor"],children:[{id:"test-management",label:"Test Management",icon:"FlaskConical",path:"/laboratory/test-management",roles:["admin","lab_tech"]},{id:"sample-tracking",label:"Sample Tracking",icon:"Search",path:"/laboratory/sample-tracking",roles:["admin","lab_tech"]}]},{id:"hr-payroll",label:"HR & Payroll",icon:"Users2",path:"/hr-payroll",roles:["admin"],children:[{id:"hr-management",label:"HR Management",icon:"UserCog",path:"/hr-payroll/hr-management",roles:["admin"]},{id:"payroll",label:"Payroll Processing",icon:"Calculator",path:"/hr-payroll/payroll",roles:["admin"]}]},{id:"reports",label:"Reports & MIS",icon:"BarChart3",path:"/reports",roles:["admin","doctor","finance"],children:[{id:"dashboards",label:"Dashboards",icon:"Monitor",path:"/reports/dashboards",roles:["admin","doctor","finance"]},{id:"report-builder",label:"Report Builder",icon:"FileBarChart",path:"/reports/report-builder",roles:["admin"]}]}],pn=er("/"),Zs=er(!0);function Kr(r,e,t){const n=r.slice();return n[11]=e[t],n}function Jr(r,e,t){const n=r.slice();return n[14]=e[t],n}function Vr(r){let e;return{c(){e=v("span"),e.textContent="HMS",p(e,"class","logo-text svelte-arbgwv")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function Rc(r){let e,t,n,s,i,a,o;function l(f,g){return f[11].icon==="LayoutDashboard"?zc:f[11].icon==="Users"?xc:f[11].icon==="Building"?Wc:f[11].icon==="Bed"?Fc:f[11].icon==="Heart"?qc:f[11].icon==="Receipt"?Bc:f[11].icon==="Pill"?Uc:f[11].icon==="TestTube"?Lc:f[11].icon==="Users2"?Nc:f[11].icon==="BarChart3"?Dc:Mc}let c=l(r),u=c(r),d=r[3]&&Yr(r);function _(){return r[9](r[11])}return{c(){e=v("a"),t=v("div"),n=v("span"),u.c(),s=P(),d&&d.c(),p(n,"class","nav-icon svelte-arbgwv"),p(t,"class","nav-link-content svelte-arbgwv"),p(e,"href",i=r[11].path),p(e,"class","nav-link svelte-arbgwv"),st(e,"active",r[5](r[11].path))},m(f,g){S(f,e,g),h(e,t),h(t,n),u.m(n,null),h(t,s),d&&d.m(t,null),a||(o=Se(e,"click",_),a=!0)},p(f,g){r=f,c!==(c=l(r))&&(u.d(1),u=c(r),u&&(u.c(),u.m(n,null))),r[3]?d?d.p(r,g):(d=Yr(r),d.c(),d.m(t,null)):d&&(d.d(1),d=null),g&4&&i!==(i=r[11].path)&&p(e,"href",i),g&36&&st(e,"active",r[5](r[11].path))},i:Z,o:Z,d(f){f&&$(e),u.d(),d&&d.d(),a=!1,o()}}}function Ic(r){let e,t,n,s,i,a,o=r[1].has(r[11].id)&&r[3],l,c,u,d;function _(y,O){return y[11].icon==="LayoutDashboard"?tu:y[11].icon==="Users"?eu:y[11].icon==="Building"?Zc:y[11].icon==="Bed"?Xc:y[11].icon==="Heart"?Qc:y[11].icon==="Receipt"?Yc:y[11].icon==="Pill"?Vc:y[11].icon==="TestTube"?Jc:y[11].icon==="Users2"?Kc:y[11].icon==="BarChart3"?Gc:Hc}let f=_(r),g=f(r),m=r[3]&&Qr(r),b=r[3]&&Xr(r);function E(){return r[7](r[11])}let A=o&&Zr(r);return{c(){e=v("button"),t=v("div"),n=v("span"),g.c(),s=P(),m&&m.c(),i=P(),b&&b.c(),a=P(),A&&A.c(),l=Qt(),p(n,"class","nav-icon svelte-arbgwv"),p(t,"class","nav-link-content svelte-arbgwv"),p(e,"class","nav-link parent svelte-arbgwv"),st(e,"active",r[5](r[11].path))},m(y,O){S(y,e,O),h(e,t),h(t,n),g.m(n,null),h(t,s),m&&m.m(t,null),h(e,i),b&&b.m(e,null),S(y,a,O),A&&A.m(y,O),S(y,l,O),c=!0,u||(d=Se(e,"click",E),u=!0)},p(y,O){r=y,f!==(f=_(r))&&(g.d(1),g=f(r),g&&(g.c(),g.m(n,null))),r[3]?m?m.p(r,O):(m=Qr(r),m.c(),m.m(t,null)):m&&(m.d(1),m=null),r[3]?b?(b.p(r,O),O&8&&w(b,1)):(b=Xr(r),b.c(),w(b,1),b.m(e,null)):b&&(Le(),k(b,1,1,()=>{b=null}),Ue()),(!c||O&36)&&st(e,"active",r[5](r[11].path)),O&14&&(o=r[1].has(r[11].id)&&r[3]),o?A?A.p(r,O):(A=Zr(r),A.c(),A.m(l.parentNode,l)):A&&(A.d(1),A=null)},i(y){c||(w(b),c=!0)},o(y){k(b),c=!1},d(y){y&&($(e),$(a),$(l)),g.d(),m&&m.d(),b&&b.d(),A&&A.d(y),u=!1,d()}}}function Mc(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function Dc(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function Nc(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function Lc(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function Uc(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function Bc(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function qc(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function Fc(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function Wc(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function xc(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function zc(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function Yr(r){let e,t=r[11].label+"",n;return{c(){e=v("span"),n=T(t),p(e,"class","nav-text svelte-arbgwv")},m(s,i){S(s,e,i),h(e,n)},p(s,i){i&4&&t!==(t=s[11].label+"")&&ge(n,t)},d(s){s&&$(e)}}}function Hc(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function Gc(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function Kc(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function Jc(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function Vc(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function Yc(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function Qc(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function Xc(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function Zc(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function eu(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function tu(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function Qr(r){let e,t=r[11].label+"",n;return{c(){e=v("span"),n=T(t),p(e,"class","nav-text svelte-arbgwv")},m(s,i){S(s,e,i),h(e,n)},p(s,i){i&4&&t!==(t=s[11].label+"")&&ge(n,t)},d(s){s&&$(e)}}}function Xr(r){let e,t,n,s,i;const a=[ru,nu],o=[];function l(c,u){return u&6&&(t=null),t==null&&(t=!!c[1].has(c[11].id)),t?0:1}return n=l(r,-1),s=o[n]=a[n](r),{c(){e=v("span"),s.c(),p(e,"class","expand-icon svelte-arbgwv")},m(c,u){S(c,e,u),o[n].m(e,null),i=!0},p(c,u){let d=n;n=l(c,u),n!==d&&(Le(),k(o[d],1,1,()=>{o[d]=null}),Ue(),s=o[n],s||(s=o[n]=a[n](c),s.c()),w(s,1),s.m(e,null))},i(c){i||(w(s),i=!0)},o(c){k(s),i=!1},d(c){c&&$(e),o[n].d()}}}function nu(r){let e,t;return e=new al({props:{size:16}}),{c(){M(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ru(r){let e,t;return e=new nl({props:{size:16}}),{c(){M(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Zr(r){let e,t=Ke(r[11].children),n=[];for(let s=0;s<t.length;s+=1)n[s]=ts(Jr(r,t,s));return{c(){e=v("div");for(let s=0;s<n.length;s+=1)n[s].c();p(e,"class","nav-children svelte-arbgwv")},m(s,i){S(s,e,i);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(e,null)},p(s,i){if(i&37){t=Ke(s[11].children);let a;for(a=0;a<t.length;a+=1){const o=Jr(s,t,a);n[a]?n[a].p(o,i):(n[a]=ts(o),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(s){s&&$(e),Yt(n,s)}}}function es(r){let e,t,n,s,i=r[14].label+"",a,o,l,c,u;function d(m,b){return m[14].icon==="Search"?Tu:m[14].icon==="Calendar"?Pu:m[14].icon==="UserPlus"?Su:m[14].icon==="UserCheck"?$u:m[14].icon==="UserMinus"?ku:m[14].icon==="CreditCard"?yu:m[14].icon==="FileText"?wu:m[14].icon==="MapPin"?bu:m[14].icon==="BarChart3"?vu:m[14].icon==="Home"?pu:m[14].icon==="Grid3x3"?_u:m[14].icon==="Settings"?mu:m[14].icon==="Stethoscope"?gu:m[14].icon==="Activity"?fu:m[14].icon==="Banknote"?hu:m[14].icon==="TrendingUp"?du:m[14].icon==="Package"?uu:m[14].icon==="FlaskConical"?cu:m[14].icon==="UserCog"?lu:m[14].icon==="Calculator"?ou:m[14].icon==="Monitor"?au:m[14].icon==="FileBarChart"?iu:su}let _=d(r),f=_(r);function g(){return r[8](r[14])}return{c(){e=v("a"),t=v("span"),f.c(),n=P(),s=v("span"),a=T(i),o=P(),p(t,"class","nav-icon svelte-arbgwv"),p(s,"class","nav-text svelte-arbgwv"),p(e,"href",l=r[14].path),p(e,"class","nav-link child svelte-arbgwv"),st(e,"active",r[5](r[14].path))},m(m,b){S(m,e,b),h(e,t),f.m(t,null),h(e,n),h(e,s),h(s,a),h(e,o),c||(u=Se(e,"click",g),c=!0)},p(m,b){r=m,_!==(_=d(r))&&(f.d(1),f=_(r),f&&(f.c(),f.m(t,null))),b&4&&i!==(i=r[14].label+"")&&ge(a,i),b&4&&l!==(l=r[14].path)&&p(e,"href",l),b&36&&st(e,"active",r[5](r[14].path))},d(m){m&&$(e),f.d(),c=!1,u()}}}function su(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function iu(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function au(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function ou(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function lu(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function cu(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function uu(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function du(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function hu(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function fu(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function gu(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function mu(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function _u(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function pu(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function vu(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function bu(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function wu(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function yu(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function ku(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function $u(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function Su(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function Pu(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function Tu(r){let e;return{c(){e=T("")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function ts(r){let e=r[0]&&r[14].roles.includes(r[0]),t,n=e&&es(r);return{c(){n&&n.c(),t=Qt()},m(s,i){n&&n.m(s,i),S(s,t,i)},p(s,i){i&5&&(e=s[0]&&s[14].roles.includes(s[0])),e?n?n.p(s,i):(n=es(s),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(s){s&&$(t),n&&n.d(s)}}}function ns(r){let e,t,n,s,i,a;const o=[Ic,Rc],l=[];function c(u,d){return d&5&&(t=null),t==null&&(t=!!(u[11].children&&u[0]&&Eu(u[11].children,u[0]))),t?0:1}return n=c(r,-1),s=l[n]=o[n](r),{c(){e=v("div"),s.c(),i=P(),p(e,"class","nav-item svelte-arbgwv")},m(u,d){S(u,e,d),l[n].m(e,null),h(e,i),a=!0},p(u,d){let _=n;n=c(u,d),n===_?l[n].p(u,d):(Le(),k(l[_],1,1,()=>{l[_]=null}),Ue(),s=l[n],s?s.p(u,d):(s=l[n]=o[n](u),s.c()),w(s,1),s.m(e,i))},i(u){a||(w(s),a=!0)},o(u){k(s),a=!1},d(u){u&&$(e),l[n].d()}}}function Ou(r){let e,t,n,s,i,a,o,l,c=r[3]&&Vr(),u=Ke(r[2]),d=[];for(let f=0;f<u.length;f+=1)d[f]=ns(Kr(r,u,f));const _=f=>k(d[f],1,1,()=>{d[f]=null});return{c(){e=v("aside"),t=v("div"),n=v("div"),s=v("div"),s.textContent="",i=P(),c&&c.c(),a=P(),o=v("nav");for(let f=0;f<d.length;f+=1)d[f].c();p(s,"class","logo-icon svelte-arbgwv"),p(n,"class","logo svelte-arbgwv"),p(t,"class","sidebar-header svelte-arbgwv"),p(o,"class","sidebar-nav svelte-arbgwv"),p(e,"class","sidebar svelte-arbgwv"),st(e,"collapsed",!r[3])},m(f,g){S(f,e,g),h(e,t),h(t,n),h(n,s),h(n,i),c&&c.m(n,null),h(e,a),h(e,o);for(let m=0;m<d.length;m+=1)d[m]&&d[m].m(o,null);l=!0},p(f,[g]){if(f[3]?c||(c=Vr(),c.c(),c.m(n,null)):c&&(c.d(1),c=null),g&63){u=Ke(f[2]);let m;for(m=0;m<u.length;m+=1){const b=Kr(f,u,m);d[m]?(d[m].p(b,g),w(d[m],1)):(d[m]=ns(b),d[m].c(),w(d[m],1),d[m].m(o,null))}for(Le(),m=u.length;m<d.length;m+=1)_(m);Ue()}(!l||g&8)&&st(e,"collapsed",!f[3])},i(f){if(!l){for(let g=0;g<u.length;g+=1)w(d[g]);l=!0}},o(f){d=d.filter(Boolean);for(let g=0;g<d.length;g+=1)k(d[g]);l=!1},d(f){f&&$(e),c&&c.d(),Yt(d,f)}}}function Eu(r,e){return r.some(t=>t.roles.includes(e))}function ju(r,e,t){let n,s,i,a,o;Rt(r,pn,g=>t(10,i=g)),Rt(r,mt,g=>t(6,a=g)),Rt(r,Zs,g=>t(3,o=g));let l=new Set;function c(g){l.has(g)?l.delete(g):l.add(g),t(1,l)}function u(g){return i===g||i.startsWith(g+"/")}const d=g=>c(g.id),_=g=>pn.set(g.path),f=g=>pn.set(g.path);return r.$$.update=()=>{var g;r.$$.dirty&64&&t(0,n=(g=a.profile)==null?void 0:g.role),r.$$.dirty&1&&t(2,s=Cc.filter(m=>n&&m.roles.includes(n)))},[n,l,s,o,c,u,a,d,_,f]}class Au extends Q{constructor(e){super(),Y(this,e,ju,Ou,V,{})}}function rs(r){let e,t,n,s,i,a,o,l,c,u,d,_,f,g,m,b,E,A,y,O;return n=new Xs({props:{size:16}}),l=new Zl({props:{size:16}}),m=new jl({props:{size:16}}),{c(){e=v("div"),t=v("a"),M(n.$$.fragment),s=P(),i=v("span"),i.textContent="Profile",a=P(),o=v("a"),M(l.$$.fragment),c=P(),u=v("span"),u.textContent="Settings",d=P(),_=v("hr"),f=P(),g=v("button"),M(m.$$.fragment),b=P(),E=v("span"),E.textContent="Sign Out",p(t,"href","/profile"),p(t,"class","menu-item svelte-1y1o32d"),p(o,"href","/settings"),p(o,"class","menu-item svelte-1y1o32d"),p(_,"class","menu-divider svelte-1y1o32d"),p(g,"class","menu-item svelte-1y1o32d"),p(e,"class","user-menu svelte-1y1o32d")},m(D,C){S(D,e,C),h(e,t),R(n,t,null),h(t,s),h(t,i),h(e,a),h(e,o),R(l,o,null),h(o,c),h(o,u),h(e,d),h(e,_),h(e,f),h(e,g),R(m,g,null),h(g,b),h(g,E),A=!0,y||(O=Se(g,"click",r[4]),y=!0)},p:Z,i(D){A||(w(n.$$.fragment,D),w(l.$$.fragment,D),w(m.$$.fragment,D),A=!0)},o(D){k(n.$$.fragment,D),k(l.$$.fragment,D),k(m.$$.fragment,D),A=!1},d(D){D&&$(e),I(n),I(l),I(m),y=!1,O()}}}function Cu(r){var J,N;let e,t,n,s,i,a,o,l,c,u,d,_,f,g,m,b,E,A,y,O,D=(((J=r[1].profile)==null?void 0:J.full_name)||"User")+"",C,L,G,re=(((N=r[1].profile)==null?void 0:N.role)||"Role")+"",se,me,ee,K,be;s=new Ll({props:{size:20}}),u=new Jo({props:{size:20}}),E=new Xs({props:{size:16}});let x=r[0]&&rs(r);return{c(){e=v("header"),t=v("div"),n=v("button"),M(s.$$.fragment),i=P(),a=v("h1"),a.textContent="Hospital Management System",o=P(),l=v("div"),c=v("button"),M(u.$$.fragment),d=P(),_=v("span"),_.textContent="3",f=P(),g=v("div"),m=v("button"),b=v("div"),M(E.$$.fragment),A=P(),y=v("div"),O=v("span"),C=T(D),L=P(),G=v("span"),se=T(re),me=P(),x&&x.c(),p(n,"class","menu-button svelte-1y1o32d"),p(a,"class","page-title svelte-1y1o32d"),p(t,"class","header-left svelte-1y1o32d"),p(_,"class","notification-badge svelte-1y1o32d"),p(c,"class","notification-button svelte-1y1o32d"),p(b,"class","user-avatar svelte-1y1o32d"),p(O,"class","user-name svelte-1y1o32d"),p(G,"class","user-role svelte-1y1o32d"),p(y,"class","user-info svelte-1y1o32d"),p(m,"class","user-button svelte-1y1o32d"),p(g,"class","user-menu-container svelte-1y1o32d"),p(l,"class","header-right svelte-1y1o32d"),p(e,"class","header svelte-1y1o32d")},m(F,z){S(F,e,z),h(e,t),h(t,n),R(s,n,null),h(t,i),h(t,a),h(e,o),h(e,l),h(l,c),R(u,c,null),h(c,d),h(c,_),h(l,f),h(l,g),h(g,m),h(m,b),R(E,b,null),h(m,A),h(m,y),h(y,O),h(O,C),h(y,L),h(y,G),h(G,se),h(g,me),x&&x.m(g,null),ee=!0,K||(be=[Se(window,"click",r[5]),Se(n,"click",r[2]),Se(m,"click",r[3])],K=!0)},p(F,[z]){var ie,ue;(!ee||z&2)&&D!==(D=(((ie=F[1].profile)==null?void 0:ie.full_name)||"User")+"")&&ge(C,D),(!ee||z&2)&&re!==(re=(((ue=F[1].profile)==null?void 0:ue.role)||"Role")+"")&&ge(se,re),F[0]?x?(x.p(F,z),z&1&&w(x,1)):(x=rs(F),x.c(),w(x,1),x.m(g,null)):x&&(Le(),k(x,1,1,()=>{x=null}),Ue())},i(F){ee||(w(s.$$.fragment,F),w(u.$$.fragment,F),w(E.$$.fragment,F),w(x),ee=!0)},o(F){k(s.$$.fragment,F),k(u.$$.fragment,F),k(E.$$.fragment,F),k(x),ee=!1},d(F){F&&$(e),I(s),I(u),I(E),x&&x.d(),K=!1,at(be)}}}function Ru(r,e,t){let n;Rt(r,mt,c=>t(1,n=c));let s=!1;function i(){Zs.update(c=>!c)}function a(){t(0,s=!s)}async function o(){await Bo(),t(0,s=!1)}function l(c){c.target.closest(".user-menu-container")||t(0,s=!1)}return[s,n,i,a,o,l]}class Iu extends Q{constructor(e){super(),Y(this,e,Ru,Cu,V,{})}}function Mu(r){let e=r[0].totalPatients.toLocaleString()+"",t;return{c(){t=T(e)},m(n,s){S(n,t,s)},p(n,s){s&1&&e!==(e=n[0].totalPatients.toLocaleString()+"")&&ge(t,e)},d(n){n&&$(t)}}}function Du(r){let e;return{c(){e=v("div"),p(e,"class","skeleton-text svelte-16omzt7")},m(t,n){S(t,e,n)},p:Z,d(t){t&&$(e)}}}function Nu(r){let e=r[0].activeAdmissions+"",t;return{c(){t=T(e)},m(n,s){S(n,t,s)},p(n,s){s&1&&e!==(e=n[0].activeAdmissions+"")&&ge(t,e)},d(n){n&&$(t)}}}function Lu(r){let e;return{c(){e=v("div"),p(e,"class","skeleton-text svelte-16omzt7")},m(t,n){S(t,e,n)},p:Z,d(t){t&&$(e)}}}function Uu(r){let e=r[0].todayAppointments+"",t;return{c(){t=T(e)},m(n,s){S(n,t,s)},p(n,s){s&1&&e!==(e=n[0].todayAppointments+"")&&ge(t,e)},d(n){n&&$(t)}}}function Bu(r){let e;return{c(){e=v("div"),p(e,"class","skeleton-text svelte-16omzt7")},m(t,n){S(t,e,n)},p:Z,d(t){t&&$(e)}}}function qu(r){let e=r[0].pendingBills+"",t;return{c(){t=T(e)},m(n,s){S(n,t,s)},p(n,s){s&1&&e!==(e=n[0].pendingBills+"")&&ge(t,e)},d(n){n&&$(t)}}}function Fu(r){let e;return{c(){e=v("div"),p(e,"class","skeleton-text svelte-16omzt7")},m(t,n){S(t,e,n)},p:Z,d(t){t&&$(e)}}}function Wu(r){let e=r[0].availableRooms+"",t;return{c(){t=T(e)},m(n,s){S(n,t,s)},p(n,s){s&1&&e!==(e=n[0].availableRooms+"")&&ge(t,e)},d(n){n&&$(t)}}}function xu(r){let e;return{c(){e=v("div"),p(e,"class","skeleton-text svelte-16omzt7")},m(t,n){S(t,e,n)},p:Z,d(t){t&&$(e)}}}function zu(r){let e,t,n,s,i,a,o,l,c,u,d,_,f,g,m,b,E,A,y,O,D,C,L,G,re,se,me,ee,K,be,x,J,N,F,z,ie,ue,qe,Te,Oe,Ee,W,fe,ye,Ce,lt,Je,Pe,Fe,Ve,we,Lt,_e,ke,pe,ar,tn,or,pt,vt,nn,bt,lr,rn,sn,an=r[0].occupancyRate+"",Cn,cr,ur,wt,Ut,dr,on,Bt;i=new yc({props:{size:24}}),l=new Hr({props:{size:16}});function hr(U,Re){return U[1]?Du:Mu}let ln=hr(r),We=ln(r);O=new zr({props:{size:24}}),L=new Hr({props:{size:16}});function fr(U,Re){return U[1]?Lu:Nu}let cn=fr(r),xe=cn(r);z=new Xo({props:{size:24}});function gr(U,Re){return U[1]?Bu:Uu}let un=gr(r),ze=un(r);Je=new Hl({props:{size:24}}),Ve=new dc({props:{size:16}});function mr(U,Re){return U[1]?Fu:qu}let dn=mr(r),He=dn(r);bt=new zr({props:{size:24}});function _r(U,Re){return U[1]?xu:Wu}let hn=_r(r),Ge=hn(r);return{c(){e=v("div"),t=v("div"),n=v("div"),s=v("div"),M(i.$$.fragment),a=P(),o=v("div"),M(l.$$.fragment),c=P(),u=v("span"),u.textContent="+12%",d=P(),_=v("div"),f=v("h3"),We.c(),g=P(),m=v("p"),m.textContent="Total Patients",b=P(),E=v("div"),A=v("div"),y=v("div"),M(O.$$.fragment),D=P(),C=v("div"),M(L.$$.fragment),G=P(),re=v("span"),re.textContent="+8%",se=P(),me=v("div"),ee=v("h3"),xe.c(),K=P(),be=v("p"),be.textContent="Active Admissions",x=P(),J=v("div"),N=v("div"),F=v("div"),M(z.$$.fragment),ie=P(),ue=v("div"),ue.innerHTML="<span>Today</span>",qe=P(),Te=v("div"),Oe=v("h3"),ze.c(),Ee=P(),W=v("p"),W.textContent="Appointments",fe=P(),ye=v("div"),Ce=v("div"),lt=v("div"),M(Je.$$.fragment),Pe=P(),Fe=v("div"),M(Ve.$$.fragment),we=P(),Lt=v("span"),Lt.textContent="-5%",_e=P(),ke=v("div"),pe=v("h3"),He.c(),ar=P(),tn=v("p"),tn.textContent="Pending Bills",or=P(),pt=v("div"),vt=v("div"),nn=v("div"),M(bt.$$.fragment),lr=P(),rn=v("div"),sn=v("span"),Cn=T(an),cr=T("%"),ur=P(),wt=v("div"),Ut=v("h3"),Ge.c(),dr=P(),on=v("p"),on.textContent="Available Rooms",p(s,"class","stat-icon svelte-16omzt7"),p(o,"class","stat-trend positive svelte-16omzt7"),p(n,"class","stat-header svelte-16omzt7"),p(f,"class","stat-value svelte-16omzt7"),p(m,"class","stat-label svelte-16omzt7"),p(_,"class","stat-content svelte-16omzt7"),p(t,"class","stat-card patients svelte-16omzt7"),p(y,"class","stat-icon svelte-16omzt7"),p(C,"class","stat-trend positive svelte-16omzt7"),p(A,"class","stat-header svelte-16omzt7"),p(ee,"class","stat-value svelte-16omzt7"),p(be,"class","stat-label svelte-16omzt7"),p(me,"class","stat-content svelte-16omzt7"),p(E,"class","stat-card admissions svelte-16omzt7"),p(F,"class","stat-icon svelte-16omzt7"),p(ue,"class","stat-trend neutral svelte-16omzt7"),p(N,"class","stat-header svelte-16omzt7"),p(Oe,"class","stat-value svelte-16omzt7"),p(W,"class","stat-label svelte-16omzt7"),p(Te,"class","stat-content svelte-16omzt7"),p(J,"class","stat-card appointments svelte-16omzt7"),p(lt,"class","stat-icon svelte-16omzt7"),p(Fe,"class","stat-trend negative svelte-16omzt7"),p(Ce,"class","stat-header svelte-16omzt7"),p(pe,"class","stat-value svelte-16omzt7"),p(tn,"class","stat-label svelte-16omzt7"),p(ke,"class","stat-content svelte-16omzt7"),p(ye,"class","stat-card billing svelte-16omzt7"),p(nn,"class","stat-icon svelte-16omzt7"),p(rn,"class","stat-trend neutral svelte-16omzt7"),p(vt,"class","stat-header svelte-16omzt7"),p(Ut,"class","stat-value svelte-16omzt7"),p(on,"class","stat-label svelte-16omzt7"),p(wt,"class","stat-content svelte-16omzt7"),p(pt,"class","stat-card rooms svelte-16omzt7"),p(e,"class","stats-grid svelte-16omzt7")},m(U,Re){S(U,e,Re),h(e,t),h(t,n),h(n,s),R(i,s,null),h(n,a),h(n,o),R(l,o,null),h(o,c),h(o,u),h(t,d),h(t,_),h(_,f),We.m(f,null),h(_,g),h(_,m),h(e,b),h(e,E),h(E,A),h(A,y),R(O,y,null),h(A,D),h(A,C),R(L,C,null),h(C,G),h(C,re),h(E,se),h(E,me),h(me,ee),xe.m(ee,null),h(me,K),h(me,be),h(e,x),h(e,J),h(J,N),h(N,F),R(z,F,null),h(N,ie),h(N,ue),h(J,qe),h(J,Te),h(Te,Oe),ze.m(Oe,null),h(Te,Ee),h(Te,W),h(e,fe),h(e,ye),h(ye,Ce),h(Ce,lt),R(Je,lt,null),h(Ce,Pe),h(Ce,Fe),R(Ve,Fe,null),h(Fe,we),h(Fe,Lt),h(ye,_e),h(ye,ke),h(ke,pe),He.m(pe,null),h(ke,ar),h(ke,tn),h(e,or),h(e,pt),h(pt,vt),h(vt,nn),R(bt,nn,null),h(vt,lr),h(vt,rn),h(rn,sn),h(sn,Cn),h(sn,cr),h(pt,ur),h(pt,wt),h(wt,Ut),Ge.m(Ut,null),h(wt,dr),h(wt,on),Bt=!0},p(U,[Re]){ln===(ln=hr(U))&&We?We.p(U,Re):(We.d(1),We=ln(U),We&&(We.c(),We.m(f,null))),cn===(cn=fr(U))&&xe?xe.p(U,Re):(xe.d(1),xe=cn(U),xe&&(xe.c(),xe.m(ee,null))),un===(un=gr(U))&&ze?ze.p(U,Re):(ze.d(1),ze=un(U),ze&&(ze.c(),ze.m(Oe,null))),dn===(dn=mr(U))&&He?He.p(U,Re):(He.d(1),He=dn(U),He&&(He.c(),He.m(pe,null))),(!Bt||Re&1)&&an!==(an=U[0].occupancyRate+"")&&ge(Cn,an),hn===(hn=_r(U))&&Ge?Ge.p(U,Re):(Ge.d(1),Ge=hn(U),Ge&&(Ge.c(),Ge.m(Ut,null)))},i(U){Bt||(w(i.$$.fragment,U),w(l.$$.fragment,U),w(O.$$.fragment,U),w(L.$$.fragment,U),w(z.$$.fragment,U),w(Je.$$.fragment,U),w(Ve.$$.fragment,U),w(bt.$$.fragment,U),Bt=!0)},o(U){k(i.$$.fragment,U),k(l.$$.fragment,U),k(O.$$.fragment,U),k(L.$$.fragment,U),k(z.$$.fragment,U),k(Je.$$.fragment,U),k(Ve.$$.fragment,U),k(bt.$$.fragment,U),Bt=!1},d(U){U&&$(e),I(i),I(l),We.d(),I(O),I(L),xe.d(),I(z),ze.d(),I(Je),I(Ve),He.d(),I(bt),Ge.d()}}}function Hu(r,e,t){let n={totalPatients:0,activeAdmissions:0,todayAppointments:0,pendingBills:0,availableRooms:0,occupancyRate:0},s=!0;Ss(async()=>{await i()});async function i(){try{const{count:a}=await Ne.from("patients").select("*",{count:"exact",head:!0}),{count:o}=await Ne.from("admissions").select("*",{count:"exact",head:!0}).eq("status","active"),l=new Date().toISOString().split("T")[0],{count:c}=await Ne.from("appointments").select("*",{count:"exact",head:!0}).eq("appointment_date",l).in("status",["scheduled","confirmed"]),{count:u}=await Ne.from("billing").select("*",{count:"exact",head:!0}).in("payment_status",["pending","partial","overdue"]),{data:d}=await Ne.from("rooms").select("status"),_=(d==null?void 0:d.filter(m=>m.status==="available").length)||0,f=(d==null?void 0:d.length)||1,g=(f-_)/f*100;t(0,n={totalPatients:a||0,activeAdmissions:o||0,todayAppointments:c||0,pendingBills:u||0,availableRooms:_,occupancyRate:Math.round(g)})}catch(a){console.error("Error loading dashboard stats:",a)}finally{t(1,s=!1)}}return[n,s]}class Gu extends Q{constructor(e){super(),Y(this,e,Hu,zu,V,{})}}const ei=6048e5,Ku=864e5,ss=Symbol.for("constructDateFrom");function it(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&ss in r?r[ss](e):r instanceof Date?new r.constructor(e):new Date(e)}function Be(r,e){return it(e||r,r)}let Ju={};function An(){return Ju}function Vt(r,e){var o,l,c,u;const t=An(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((u=(c=t.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,s=Be(r,e==null?void 0:e.in),i=s.getDay(),a=(i<n?7:0)+i-n;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function kn(r,e){return Vt(r,{...e,weekStartsOn:1})}function ti(r,e){const t=Be(r,e==null?void 0:e.in),n=t.getFullYear(),s=it(t,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=kn(s),a=it(t,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=kn(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function is(r){const e=Be(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function Vu(r,...e){const t=it.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function as(r,e){const t=Be(r,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function Yu(r,e,t){const[n,s]=Vu(t==null?void 0:t.in,r,e),i=as(n),a=as(s),o=+i-is(i),l=+a-is(a);return Math.round((o-l)/Ku)}function Qu(r,e){const t=ti(r,e),n=it(r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),kn(n)}function Xu(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function Zu(r){return!(!Xu(r)&&typeof r!="number"||isNaN(+Be(r)))}function ed(r,e){const t=Be(r,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const td={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},nd=(r,e,t)=>{let n;const s=td[r];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function Wn(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const rd={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sd={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},id={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ad={date:Wn({formats:rd,defaultWidth:"full"}),time:Wn({formats:sd,defaultWidth:"full"}),dateTime:Wn({formats:id,defaultWidth:"full"})},od={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ld=(r,e,t,n)=>od[r];function Ft(r){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let s;if(n==="formatting"&&r.formattingValues){const a=r.defaultFormattingWidth||r.defaultWidth,o=t!=null&&t.width?String(t.width):a;s=r.formattingValues[o]||r.formattingValues[a]}else{const a=r.defaultWidth,o=t!=null&&t.width?String(t.width):r.defaultWidth;s=r.values[o]||r.values[a]}const i=r.argumentCallback?r.argumentCallback(e):e;return s[i]}}const cd={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ud={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},dd={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hd={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fd={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gd={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},md=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},_d={ordinalNumber:md,era:Ft({values:cd,defaultWidth:"wide"}),quarter:Ft({values:ud,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Ft({values:dd,defaultWidth:"wide"}),day:Ft({values:hd,defaultWidth:"wide"}),dayPeriod:Ft({values:fd,defaultWidth:"wide",formattingValues:gd,defaultFormattingWidth:"wide"})};function Wt(r){return(e,t={})=>{const n=t.width,s=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],o=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],l=Array.isArray(o)?vd(o,d=>d.test(a)):pd(o,d=>d.test(a));let c;c=r.valueCallback?r.valueCallback(l):l,c=t.valueCallback?t.valueCallback(c):c;const u=e.slice(a.length);return{value:c,rest:u}}}function pd(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function vd(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function bd(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const s=n[0],i=e.match(r.parsePattern);if(!i)return null;let a=r.valueCallback?r.valueCallback(i[0]):i[0];a=t.valueCallback?t.valueCallback(a):a;const o=e.slice(s.length);return{value:a,rest:o}}}const wd=/^(\d+)(th|st|nd|rd)?/i,yd=/\d+/i,kd={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$d={any:[/^b/i,/^(a|c)/i]},Sd={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Pd={any:[/1/i,/2/i,/3/i,/4/i]},Td={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Od={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ed={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jd={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ad={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Cd={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Rd={ordinalNumber:bd({matchPattern:wd,parsePattern:yd,valueCallback:r=>parseInt(r,10)}),era:Wt({matchPatterns:kd,defaultMatchWidth:"wide",parsePatterns:$d,defaultParseWidth:"any"}),quarter:Wt({matchPatterns:Sd,defaultMatchWidth:"wide",parsePatterns:Pd,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Wt({matchPatterns:Td,defaultMatchWidth:"wide",parsePatterns:Od,defaultParseWidth:"any"}),day:Wt({matchPatterns:Ed,defaultMatchWidth:"wide",parsePatterns:jd,defaultParseWidth:"any"}),dayPeriod:Wt({matchPatterns:Ad,defaultMatchWidth:"any",parsePatterns:Cd,defaultParseWidth:"any"})},Id={code:"en-US",formatDistance:nd,formatLong:ad,formatRelative:ld,localize:_d,match:Rd,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Md(r,e){const t=Be(r,e==null?void 0:e.in);return Yu(t,ed(t))+1}function Dd(r,e){const t=Be(r,e==null?void 0:e.in),n=+kn(t)-+Qu(t);return Math.round(n/ei)+1}function ni(r,e){var u,d,_,f;const t=Be(r,e==null?void 0:e.in),n=t.getFullYear(),s=An(),i=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((f=(_=s.locale)==null?void 0:_.options)==null?void 0:f.firstWeekContainsDate)??1,a=it((e==null?void 0:e.in)||r,0);a.setFullYear(n+1,0,i),a.setHours(0,0,0,0);const o=Vt(a,e),l=it((e==null?void 0:e.in)||r,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const c=Vt(l,e);return+t>=+o?n+1:+t>=+c?n:n-1}function Nd(r,e){var o,l,c,u;const t=An(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??t.firstWeekContainsDate??((u=(c=t.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,s=ni(r,e),i=it((e==null?void 0:e.in)||r,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Vt(i,e)}function Ld(r,e){const t=Be(r,e==null?void 0:e.in),n=+Vt(t,e)-+Nd(t,e);return Math.round(n/ei)+1}function X(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const tt={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return X(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):X(t+1,2)},d(r,e){return X(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return X(r.getHours()%12||12,e.length)},H(r,e){return X(r.getHours(),e.length)},m(r,e){return X(r.getMinutes(),e.length)},s(r,e){return X(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),s=Math.trunc(n*Math.pow(10,t-3));return X(s,e.length)}},Et={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},os={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),s=n>0?n:1-n;return t.ordinalNumber(s,{unit:"year"})}return tt.y(r,e)},Y:function(r,e,t,n){const s=ni(r,n),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return X(a,2)}return e==="Yo"?t.ordinalNumber(i,{unit:"year"}):X(i,e.length)},R:function(r,e){const t=ti(r);return X(t,e.length)},u:function(r,e){const t=r.getFullYear();return X(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return X(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return X(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return tt.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return X(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const s=Ld(r,n);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):X(s,e.length)},I:function(r,e,t){const n=Dd(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):X(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):tt.d(r,e)},D:function(r,e,t){const n=Md(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):X(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const s=r.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return X(i,2);case"eo":return t.ordinalNumber(i,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const s=r.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return X(i,e.length);case"co":return t.ordinalNumber(i,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return X(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const s=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let s;switch(n===12?s=Et.noon:n===0?s=Et.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let s;switch(n>=17?s=Et.evening:n>=12?s=Et.afternoon:n>=4?s=Et.morning:s=Et.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return tt.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):tt.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):X(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):X(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):tt.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):tt.s(r,e)},S:function(r,e){return tt.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return cs(n);case"XXXX":case"XX":return ht(n);case"XXXXX":case"XXX":default:return ht(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return cs(n);case"xxxx":case"xx":return ht(n);case"xxxxx":case"xxx":default:return ht(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ls(n,":");case"OOOO":default:return"GMT"+ht(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ls(n,":");case"zzzz":default:return"GMT"+ht(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return X(n,e.length)},T:function(r,e,t){return X(+r,e.length)}};function ls(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),s=Math.trunc(n/60),i=n%60;return i===0?t+String(s):t+String(s)+e+X(i,2)}function cs(r,e){return r%60===0?(r>0?"-":"+")+X(Math.abs(r)/60,2):ht(r,e)}function ht(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),s=X(Math.trunc(n/60),2),i=X(n%60,2);return t+s+e+i}const us=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},ri=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Ud=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],s=t[2];if(!s)return us(r,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",us(n,e)).replace("{{time}}",ri(s,e))},Bd={p:ri,P:Ud},qd=/^D+$/,Fd=/^Y+$/,Wd=["D","DD","YY","YYYY"];function xd(r){return qd.test(r)}function zd(r){return Fd.test(r)}function Hd(r,e,t){const n=Gd(r,e,t);if(console.warn(n),Wd.includes(r))throw new RangeError(n)}function Gd(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Kd=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Jd=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Vd=/^'([^]*?)'?$/,Yd=/''/g,Qd=/[a-zA-Z]/;function ds(r,e,t){var u,d,_,f;const n=An(),s=n.locale??Id,i=n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=n.weekStartsOn??((f=(_=n.locale)==null?void 0:_.options)==null?void 0:f.weekStartsOn)??0,o=Be(r,t==null?void 0:t.in);if(!Zu(o))throw new RangeError("Invalid time value");let l=e.match(Jd).map(g=>{const m=g[0];if(m==="p"||m==="P"){const b=Bd[m];return b(g,s.formatLong)}return g}).join("").match(Kd).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const m=g[0];if(m==="'")return{isToken:!1,value:Xd(g)};if(os[m])return{isToken:!0,value:g};if(m.match(Qd))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(l=s.localize.preprocessor(o,l));const c={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return l.map(g=>{if(!g.isToken)return g.value;const m=g.value;(zd(m)||xd(m))&&Hd(m,e,String(r));const b=os[m[0]];return b(o,m,s.localize,c)}).join("")}function Xd(r){const e=r.match(Vd);return e?e[1].replace(Yd,"'"):r}function hs(r,e,t){const n=r.slice();return n[13]=e[t],n}function fs(r,e,t){const n=r.slice();return n[16]=e[t],n}function gs(r){let e,t=r[16].label+"",n;return{c(){e=v("option"),n=T(t),e.__value=r[16].value,Ze(e,e.__value)},m(s,i){S(s,e,i),h(e,n)},p:Z,d(s){s&&$(e)}}}function Zd(r){let e,t,n,s,i,a=Ke(r[4]),o=[];for(let c=0;c<a.length;c+=1)o[c]=ps(hs(r,a,c));const l=c=>k(o[c],1,1,()=>{o[c]=null});return{c(){e=v("table"),t=v("thead"),t.innerHTML='<tr class="svelte-18wx86y"><th class="svelte-18wx86y">Patient ID</th> <th class="svelte-18wx86y">Name</th> <th class="svelte-18wx86y">Age/Gender</th> <th class="svelte-18wx86y">Contact</th> <th class="svelte-18wx86y">Status</th> <th class="svelte-18wx86y">Registered</th> <th class="svelte-18wx86y">Actions</th></tr>',n=P(),s=v("tbody");for(let c=0;c<o.length;c+=1)o[c].c();p(e,"class","patients-table svelte-18wx86y")},m(c,u){S(c,e,u),h(e,t),h(e,n),h(e,s);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(s,null);i=!0},p(c,u){if(u&88){a=Ke(c[4]);let d;for(d=0;d<a.length;d+=1){const _=hs(c,a,d);o[d]?(o[d].p(_,u),w(o[d],1)):(o[d]=ps(_),o[d].c(),w(o[d],1),o[d].m(s,null))}for(Le(),d=a.length;d<o.length;d+=1)l(d);Ue()}},i(c){if(!i){for(let u=0;u<a.length;u+=1)w(o[u]);i=!0}},o(c){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)k(o[u]);i=!1},d(c){c&&$(e),Yt(o,c)}}}function eh(r){let e,t,n,s,i,a;function o(u,d){return u[0]||u[1]!=="all"?rh:nh}let l=o(r),c=l(r);return{c(){e=v("div"),t=v("div"),t.textContent="",n=P(),s=v("h3"),s.textContent="No patients found",i=P(),a=v("p"),c.c(),p(t,"class","empty-icon svelte-18wx86y"),p(s,"class","svelte-18wx86y"),p(a,"class","svelte-18wx86y"),p(e,"class","empty-state svelte-18wx86y")},m(u,d){S(u,e,d),h(e,t),h(e,n),h(e,s),h(e,i),h(e,a),c.m(a,null)},p(u,d){l!==(l=o(u))&&(c.d(1),c=l(u),c&&(c.c(),c.m(a,null)))},i:Z,o:Z,d(u){u&&$(e),c.d()}}}function th(r){let e;return{c(){e=v("div"),e.innerHTML='<div class="spinner svelte-18wx86y"></div> <p>Loading patients...</p>',p(e,"class","loading-state svelte-18wx86y")},m(t,n){S(t,e,n)},p:Z,i:Z,o:Z,d(t){t&&$(e)}}}function ms(r){let e,t=r[13].email+"",n;return{c(){e=v("span"),n=T(t),p(e,"class","email svelte-18wx86y")},m(s,i){S(s,e,i),h(e,n)},p(s,i){i&16&&t!==(t=s[13].email+"")&&ge(n,t)},d(s){s&&$(e)}}}function _s(r){let e,t,n,s,i,a,o,l,c,u,d,_,f,g,m;return n=new Qs({props:{size:16}}),o=new rc({props:{size:16}}),f=new oc({props:{size:16}}),{c(){e=v("div"),t=v("button"),M(n.$$.fragment),s=T(`
                        View Details`),i=P(),a=v("button"),M(o.$$.fragment),l=T(`
                        Edit Patient`),c=P(),u=v("hr"),d=P(),_=v("button"),M(f.$$.fragment),g=T(`
                        Delete Patient`),p(t,"class","menu-item svelte-18wx86y"),p(a,"class","menu-item svelte-18wx86y"),p(u,"class","menu-divider svelte-18wx86y"),p(_,"class","menu-item danger svelte-18wx86y"),p(e,"class","action-menu svelte-18wx86y")},m(b,E){S(b,e,E),h(e,t),R(n,t,null),h(t,s),h(e,i),h(e,a),R(o,a,null),h(a,l),h(e,c),h(e,u),h(e,d),h(e,_),R(f,_,null),h(_,g),m=!0},i(b){m||(w(n.$$.fragment,b),w(o.$$.fragment,b),w(f.$$.fragment,b),m=!0)},o(b){k(n.$$.fragment,b),k(o.$$.fragment,b),k(f.$$.fragment,b),m=!1},d(b){b&&$(e),I(n),I(o),I(f)}}}function ps(r){let e,t,n,s=r[13].patient_id+"",i,a,o,l,c,u=r[13].full_name+"",d,_,f,g,m,b=bs(r[13].date_of_birth)+"",E,A,y,O,D=r[13].gender+"",C,L,G,re,se,me=r[13].phone+"",ee,K,be,x,J,N=r[13].status+"",F,z,ie,ue,qe,Te=ds(new Date(r[13].created_at),"MMM dd, yyyy")+"",Oe,Ee,W,fe,ye,Ce,lt,Je,Pe,Fe,Ve,we=r[13].email&&ms(r);Ce=new ul({props:{size:16}});function Lt(){return r[11](r[13])}let _e=r[3]===r[13].id&&_s();return{c(){e=v("tr"),t=v("td"),n=v("span"),i=T(s),a=P(),o=v("td"),l=v("div"),c=v("span"),d=T(u),_=P(),f=v("td"),g=v("div"),m=v("span"),E=T(b),A=T(" years"),y=P(),O=v("span"),C=T(D),L=P(),G=v("td"),re=v("div"),se=v("span"),ee=T(me),K=P(),we&&we.c(),be=P(),x=v("td"),J=v("span"),F=T(N),ie=P(),ue=v("td"),qe=v("span"),Oe=T(Te),Ee=P(),W=v("td"),fe=v("div"),ye=v("button"),M(Ce.$$.fragment),lt=P(),_e&&_e.c(),Je=P(),p(n,"class","patient-id svelte-18wx86y"),p(t,"class","svelte-18wx86y"),p(c,"class","name svelte-18wx86y"),p(l,"class","patient-name svelte-18wx86y"),p(o,"class","svelte-18wx86y"),p(m,"class","age svelte-18wx86y"),p(O,"class","gender svelte-18wx86y"),p(g,"class","age-gender svelte-18wx86y"),p(f,"class","svelte-18wx86y"),p(se,"class","phone svelte-18wx86y"),p(re,"class","contact-info svelte-18wx86y"),p(G,"class","svelte-18wx86y"),p(J,"class",z="status-badge "+vs(r[13].status)+" svelte-18wx86y"),p(x,"class","svelte-18wx86y"),p(qe,"class","date svelte-18wx86y"),p(ue,"class","svelte-18wx86y"),p(ye,"class","action-button svelte-18wx86y"),p(fe,"class","action-menu-container svelte-18wx86y"),p(W,"class","svelte-18wx86y"),p(e,"class","svelte-18wx86y")},m(ke,pe){S(ke,e,pe),h(e,t),h(t,n),h(n,i),h(e,a),h(e,o),h(o,l),h(l,c),h(c,d),h(e,_),h(e,f),h(f,g),h(g,m),h(m,E),h(m,A),h(g,y),h(g,O),h(O,C),h(e,L),h(e,G),h(G,re),h(re,se),h(se,ee),h(re,K),we&&we.m(re,null),h(e,be),h(e,x),h(x,J),h(J,F),h(e,ie),h(e,ue),h(ue,qe),h(qe,Oe),h(e,Ee),h(e,W),h(W,fe),h(fe,ye),R(Ce,ye,null),h(fe,lt),_e&&_e.m(fe,null),h(e,Je),Pe=!0,Fe||(Ve=Se(ye,"click",Lt),Fe=!0)},p(ke,pe){r=ke,(!Pe||pe&16)&&s!==(s=r[13].patient_id+"")&&ge(i,s),(!Pe||pe&16)&&u!==(u=r[13].full_name+"")&&ge(d,u),(!Pe||pe&16)&&b!==(b=bs(r[13].date_of_birth)+"")&&ge(E,b),(!Pe||pe&16)&&D!==(D=r[13].gender+"")&&ge(C,D),(!Pe||pe&16)&&me!==(me=r[13].phone+"")&&ge(ee,me),r[13].email?we?we.p(r,pe):(we=ms(r),we.c(),we.m(re,null)):we&&(we.d(1),we=null),(!Pe||pe&16)&&N!==(N=r[13].status+"")&&ge(F,N),(!Pe||pe&16&&z!==(z="status-badge "+vs(r[13].status)+" svelte-18wx86y"))&&p(J,"class",z),(!Pe||pe&16)&&Te!==(Te=ds(new Date(r[13].created_at),"MMM dd, yyyy")+"")&&ge(Oe,Te),r[3]===r[13].id?_e?pe&24&&w(_e,1):(_e=_s(),_e.c(),w(_e,1),_e.m(fe,null)):_e&&(Le(),k(_e,1,1,()=>{_e=null}),Ue())},i(ke){Pe||(w(Ce.$$.fragment,ke),w(_e),Pe=!0)},o(ke){k(Ce.$$.fragment,ke),k(_e),Pe=!1},d(ke){ke&&$(e),we&&we.d(),I(Ce),_e&&_e.d(),Fe=!1,Ve()}}}function nh(r){let e;return{c(){e=T("Start by adding your first patient")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function rh(r){let e;return{c(){e=T("Try adjusting your search or filters")},m(t,n){S(t,e,n)},d(t){t&&$(e)}}}function sh(r){let e,t,n,s,i,a,o,l,c,u,d,_,f,g,m,b,E,A,y,O,D,C,L,G,re,se,me;a=new Fl({props:{size:20}}),d=new Vl({props:{class:"search-icon",size:20}});let ee=Ke(r[5]),K=[];for(let N=0;N<ee.length;N+=1)K[N]=gs(fs(r,ee,N));y=new yl({props:{size:20}});const be=[th,eh,Zd],x=[];function J(N,F){return N[2]?0:N[4].length===0?1:2}return L=J(r),G=x[L]=be[L](r),{c(){e=v("div"),t=v("div"),n=v("div"),n.innerHTML='<h2 class="svelte-18wx86y">Patient Management</h2> <p class="svelte-18wx86y">Manage patient records and information</p>',s=P(),i=v("button"),M(a.$$.fragment),o=T(`
      Add New Patient`),l=P(),c=v("div"),u=v("div"),M(d.$$.fragment),_=P(),f=v("input"),g=P(),m=v("div"),b=v("select");for(let N=0;N<K.length;N+=1)K[N].c();E=P(),A=v("button"),M(y.$$.fragment),O=T(`
        More Filters`),D=P(),C=v("div"),G.c(),p(n,"class","header-left svelte-18wx86y"),p(i,"class","add-button svelte-18wx86y"),p(t,"class","list-header svelte-18wx86y"),p(f,"type","text"),p(f,"placeholder","Search patients by name, ID, or phone..."),p(f,"class","svelte-18wx86y"),p(u,"class","search-box svelte-18wx86y"),p(b,"class","status-filter svelte-18wx86y"),r[1]===void 0&&bn(()=>r[10].call(b)),p(A,"class","filter-button svelte-18wx86y"),p(m,"class","filter-group svelte-18wx86y"),p(c,"class","filters svelte-18wx86y"),p(C,"class","table-container svelte-18wx86y"),p(e,"class","patient-list-container svelte-18wx86y")},m(N,F){S(N,e,F),h(e,t),h(t,n),h(t,s),h(t,i),R(a,i,null),h(i,o),h(e,l),h(e,c),h(c,u),R(d,u,null),h(u,_),h(u,f),Ze(f,r[0]),h(c,g),h(c,m),h(m,b);for(let z=0;z<K.length;z+=1)K[z]&&K[z].m(b,null);br(b,r[1],!0),h(m,E),h(m,A),R(y,A,null),h(A,O),h(e,D),h(e,C),x[L].m(C,null),re=!0,se||(me=[Se(window,"click",r[7]),Se(f,"input",r[9]),Se(b,"change",r[10])],se=!0)},p(N,[F]){if(F&1&&f.value!==N[0]&&Ze(f,N[0]),F&32){ee=Ke(N[5]);let ie;for(ie=0;ie<ee.length;ie+=1){const ue=fs(N,ee,ie);K[ie]?K[ie].p(ue,F):(K[ie]=gs(ue),K[ie].c(),K[ie].m(b,null))}for(;ie<K.length;ie+=1)K[ie].d(1);K.length=ee.length}F&34&&br(b,N[1]);let z=L;L=J(N),L===z?x[L].p(N,F):(Le(),k(x[z],1,1,()=>{x[z]=null}),Ue(),G=x[L],G?G.p(N,F):(G=x[L]=be[L](N),G.c()),w(G,1),G.m(C,null))},i(N){re||(w(a.$$.fragment,N),w(d.$$.fragment,N),w(y.$$.fragment,N),w(G),re=!0)},o(N){k(a.$$.fragment,N),k(d.$$.fragment,N),k(y.$$.fragment,N),k(G),re=!1},d(N){N&&$(e),I(a),I(d),Yt(K,N),I(y),x[L].d(),se=!1,at(me)}}}function vs(r){switch(r){case"enquiry":return"bg-yellow-100 text-yellow-800";case"registered":return"bg-blue-100 text-blue-800";case"admitted":return"bg-green-100 text-green-800";case"discharged":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}}function bs(r){const e=new Date,t=new Date(r);let n=e.getFullYear()-t.getFullYear();const s=e.getMonth()-t.getMonth();return(s<0||s===0&&e.getDate()<t.getDate())&&n--,n}function ih(r,e,t){let n,s=[],i=!0,a="",o="all",l=null;const c=[{value:"all",label:"All Patients"},{value:"enquiry",label:"Enquiry"},{value:"registered",label:"Registered"},{value:"admitted",label:"Admitted"},{value:"discharged",label:"Discharged"}];Ss(async()=>{await u()});async function u(){try{const{data:b,error:E}=await Ne.from("patients").select("*").order("created_at",{ascending:!1});if(E)throw E;t(8,s=b||[])}catch(b){console.error("Error loading patients:",b)}finally{t(2,i=!1)}}function d(b){t(3,l=l===b?null:b)}function _(b){b.target.closest(".action-menu-container")||t(3,l=null)}function f(){a=this.value,t(0,a)}function g(){o=di(this),t(1,o),t(5,c)}const m=b=>d(b.id);return r.$$.update=()=>{r.$$.dirty&259&&t(4,n=s.filter(b=>{const E=b.full_name.toLowerCase().includes(a.toLowerCase())||b.patient_id.toLowerCase().includes(a.toLowerCase())||b.phone.includes(a),A=o==="all"||b.status===o;return E&&A}))},[a,o,i,l,n,c,d,_,s,f,g,m]}class si extends Q{constructor(e){super(),Y(this,e,ih,sh,V,{})}}function ah(r){let e,t,n,s,i,a,o,l,c,u,d;t=new Au({}),i=new Iu({});const _=[dh,uh,ch],f=[];function g(m,b){return b&2&&(l=null),m[1]==="/dashboard"||m[1]==="/"?0:(l==null&&(l=!!m[1].startsWith("/patient-journey")),l?1:2)}return c=g(r,-1),u=f[c]=_[c](r),{c(){e=v("div"),M(t.$$.fragment),n=P(),s=v("div"),M(i.$$.fragment),a=P(),o=v("main"),u.c(),p(o,"class","content svelte-1ixexpk"),p(s,"class","main-content svelte-1ixexpk"),p(e,"class","app-layout svelte-1ixexpk")},m(m,b){S(m,e,b),R(t,e,null),h(e,n),h(e,s),R(i,s,null),h(s,a),h(s,o),f[c].m(o,null),d=!0},p(m,b){let E=c;c=g(m,b),c===E?f[c].p(m,b):(Le(),k(f[E],1,1,()=>{f[E]=null}),Ue(),u=f[c],u?u.p(m,b):(u=f[c]=_[c](m),u.c()),w(u,1),u.m(o,null))},i(m){d||(w(t.$$.fragment,m),w(i.$$.fragment,m),w(u),d=!0)},o(m){k(t.$$.fragment,m),k(i.$$.fragment,m),k(u),d=!1},d(m){m&&$(e),I(t),I(i),f[c].d()}}}function oh(r){let e,t;return e=new Ac({}),{c(){M(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:Z,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function lh(r){let e;return{c(){e=v("div"),e.innerHTML='<div class="loading-content svelte-1ixexpk"><div class="logo svelte-1ixexpk"></div> <h1 class="svelte-1ixexpk">Hospital Management System</h1> <div class="spinner svelte-1ixexpk"></div></div>',p(e,"class","loading-screen svelte-1ixexpk")},m(t,n){S(t,e,n)},p:Z,i:Z,o:Z,d(t){t&&$(e)}}}function ch(r){let e;return{c(){e=v("div"),e.innerHTML='<div class="coming-soon svelte-1ixexpk"><div class="coming-soon-icon svelte-1ixexpk"></div> <h2 class="svelte-1ixexpk">Coming Soon</h2> <p class="svelte-1ixexpk">This module is under development and will be available soon.</p></div>',p(e,"class","page-content svelte-1ixexpk")},m(t,n){S(t,e,n)},p:Z,i:Z,o:Z,d(t){t&&$(e)}}}function uh(r){let e,t,n;return t=new si({}),{c(){e=v("div"),M(t.$$.fragment),p(e,"class","page-content svelte-1ixexpk")},m(s,i){S(s,e,i),R(t,e,null),n=!0},p:Z,i(s){n||(w(t.$$.fragment,s),n=!0)},o(s){k(t.$$.fragment,s),n=!1},d(s){s&&$(e),I(t)}}}function dh(r){var y;let e,t,n,s,i,a,o=((y=r[0].profile)==null?void 0:y.full_name)+"",l,c,u,d,_,f,g,m,b,E,A;return d=new Gu({}),E=new si({}),{c(){e=v("div"),t=v("div"),n=v("h1"),n.textContent="Dashboard",s=P(),i=v("p"),a=T("Welcome back, "),l=T(o),c=T("!"),u=P(),M(d.$$.fragment),_=P(),f=v("div"),g=v("div"),m=v("h3"),m.textContent="Recent Patients",b=P(),M(E.$$.fragment),p(n,"class","svelte-1ixexpk"),p(i,"class","svelte-1ixexpk"),p(t,"class","dashboard-header svelte-1ixexpk"),p(m,"class","svelte-1ixexpk"),p(g,"class","dashboard-card svelte-1ixexpk"),p(f,"class","dashboard-grid svelte-1ixexpk"),p(e,"class","dashboard svelte-1ixexpk")},m(O,D){S(O,e,D),h(e,t),h(t,n),h(t,s),h(t,i),h(i,a),h(i,l),h(i,c),h(e,u),R(d,e,null),h(e,_),h(e,f),h(f,g),h(g,m),h(g,b),R(E,g,null),A=!0},p(O,D){var C;(!A||D&1)&&o!==(o=((C=O[0].profile)==null?void 0:C.full_name)+"")&&ge(l,o)},i(O){A||(w(d.$$.fragment,O),w(E.$$.fragment,O),A=!0)},o(O){k(d.$$.fragment,O),k(E.$$.fragment,O),A=!1},d(O){O&&$(e),I(d),I(E)}}}function hh(r){let e,t,n,s;const i=[lh,oh,ah],a=[];function o(l,c){return l[0].loading?0:l[2]?2:1}return e=o(r),t=a[e]=i[e](r),{c(){t.c(),n=Qt()},m(l,c){a[e].m(l,c),S(l,n,c),s=!0},p(l,[c]){let u=e;e=o(l),e===u?a[e].p(l,c):(Le(),k(a[u],1,1,()=>{a[u]=null}),Ue(),t=a[e],t?t.p(l,c):(t=a[e]=i[e](l),t.c()),w(t,1),t.m(n.parentNode,n))},i(l){s||(w(t),s=!0)},o(l){k(t),s=!1},d(l){l&&$(n),a[e].d(l)}}}function fh(r,e,t){let n,s,i,a;return Rt(r,pn,o=>t(3,i=o)),Rt(r,mt,o=>t(0,a=o)),r.$$.update=()=>{r.$$.dirty&1&&t(2,n=a.user&&a.profile),r.$$.dirty&8&&t(1,s=i)},[a,s,n,i]}class gh extends Q{constructor(e){super(),Y(this,e,fh,hh,V,{})}}new gh({target:document.getElementById("app")});
